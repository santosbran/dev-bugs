<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
    <f:view locale="#{swtLanguage.locale}">
        <h:head>
            <title></title>

        </h:head>
        <h:body>
            <h:form id="tmrform" enctype="multipart/form-data">
                <h:panelGrid columns="2" style="width: 100%; margin: auto;" columnClasses="twentyfive-prc right-align, seventyfive-prc">
                    <h:column>
                        <h:outputLabel value="#{aees_msg['partNumber']}" for="numpart" />
                        <h:outputText value="  *  " class="msgError"/>
                    </h:column>
                    <h:column>
                        <h:selectOneMenu id="numpart"  class="form-control" value="#{toolMakingBean.elemento.idPart}"
                                         required="true" requiredMessage="#{aees_msg['partNumber']} #{gen_msg['adjNecesario']}"> 
                            <f:selectItem itemLabel="..." itemValue="#{null}"/>
                            <f:selectItems value="#{partNumberBean.listado}" var="part" itemLabel="#{part.partCode}" itemValue="#{part.idPart}"/>
                            <f:ajax execute="@this" event="change" render="@this refremeta"/> 
                        </h:selectOneMenu>
                        <h:messages for="numpart" class="msgError"/>
                    </h:column>

                    <h:column>
                        <h:outputLabel value="#{gen_msg['description']}" for="descr" />
                        <h:outputText value="  *  " class="msgError"/>
                    </h:column>
                    <h:column>
                        <h:inputTextarea id="descr"  class="form-control" style="resize: none;" value="#{toolMakingBean.elemento.toolReqDesc}"
                                         required="true" requiredMessage="#{gen_msg['description']} #{gen_msg['adjNecesario']}"/>
                        <h:messages for="descr" class="msgError"/>
                    </h:column>

                    <h:column>
                        <h:outputLabel value="#{gen_msg['quantity']}" for="quantity" />
                        <h:outputText value="  *  " class="msgError"/>
                    </h:column>
                    <h:column>
                        <h:inputText id="quantity"  class="form-control" value="#{toolMakingBean.elemento.toolReqQty}"
                                     required="true" requiredMessage="#{gen_msg['datereq']} #{gen_msg['adjNecesario']}"> 
                        </h:inputText>
                        <h:messages for="quantity" class="msgError"/>
                    </h:column>

                    <h:column>
                        <h:outputLabel value="#{gen_msg['datereq']}" for="reqdate" />
                        <h:outputText value="  *  " class="msgError"/>
                    </h:column>
                    <h:column>
                        <h:inputText id="reqdate"  class="form-control"  pt:placeholder="#{gen_msg['frmtDateConv']}" 
                                     value="#{toolMakingBean.elemento.toolRequiredDate}" maxlength="10"
                                     required="true" requiredMessage="#{gen_msg['precioref']} #{gen_msg['adjNecesario']}"
                                     converterMessage="#{gen_msg['finaccDateFormatMessage']}"> 
                            <f:convertDateTime pattern="#{gen_msg['frmtDateConv']}" timeZone="GMT-6"/>
                        </h:inputText>
                        <h:messages for="reqdate" class="msgError"/>
                    </h:column>

                    <h:outputLabel value="#{gen_msg['precioref']} $" for="refprice" />
                    <h:inputText id="refprice"  class="form-control" value="#{toolMakingBean.elemento.toolPrice}"> 
                    </h:inputText>

                    <h:column>
                        <h:outputLabel value="#{gen_msg['fleet']}" for="fleet" />
                        <h:outputText value="  *  " class="msgError"/>
                    </h:column>
                    <h:column>
                        <h:selectOneMenu id="fleet"  class="form-control" value="#{toolMakingBean.elemento.idFleet}"
                                         required="true" requiredMessage="#{gen_msg['fleet']} #{gen_msg['adjNecesario']}"> 
                            <f:selectItem itemLabel="..." itemValue="#{null}"/>
                            <f:selectItems value="#{toolMakingBean.listFleet}" var="fleet" itemLabel="#{fleet.arcfamCode}" itemValue="#{fleet.arcfamId}"/>
                            <f:ajax execute="@this" event="change" render="@this refremeta"/> 
                        </h:selectOneMenu>
                        <h:messages for="fleet" class="msgError"/>
                    </h:column>

                    <h:column>
                        <h:outputLabel value="#{gen_msg['leadtime']}" for="leadtiem" />
                        <h:outputText value="  *  " class="msgError"/>
                    </h:column>
                    <h:column>
                        <h:inputText id="leadtiem"  class="form-control"  pt:placeholder="#{gen_msg['frmtDateConv']}" 
                                     value="#{toolMakingBean.elemento.toolLeadTime}" maxlength="10"
                                     required="true" requiredMessage="#{gen_msg['leadtime']} #{gen_msg['adjNecesario']}"
                                     converterMessage="#{gen_msg['finaccDateFormatMessage']}"> 
                            <f:convertDateTime pattern="#{gen_msg['frmtDateConv']}" timeZone="GMT-6"/>
                        </h:inputText>
                        <h:messages for="leadtiem" class="msgError"/>
                    </h:column>
                    <h:outputLabel value="#{gen_msg['attached']}" for="file" />
                    <h:inputFile id="file" style="border:#999 solid 3px; padding:10px;width: 100%;"  value="#{toolMakingBean.attach}"/>
                    <h:outputLabel value="#{gen_msg['attquote']}" for="filequote" />
                    <h:inputFile id="filequote" style="border:#999 solid 3px; padding:10px;width: 100%;" value="#{toolMakingBean.quote}"/>
                    
                    <h:column>
                        <h:outputLabel value="#{gen_msg['priority']}" for="priori" />
                        <h:outputText value="  *  " class="msgError"/>
                    </h:column>
                    <h:column>
                        <h:selectOneMenu id="priori"  class="form-control" value="#{toolMakingBean.priority}"
                                     required="true" requiredMessage="#{gen_msg['priority']} #{gen_msg['adjNecesario']}"> 
                            <f:selectItem itemLabel="..." itemValue="#{null}"/>
                            <f:selectItems value="#{engPriorities.listado}" var="pri" itemLabel="#{pri.priDescription}" itemValue="#{pri.priCod}"/>
                            <f:ajax execute="@this" event="change" render="@this refremeta"/> 
                        </h:selectOneMenu>
                        <h:messages for="priori" class="msgError"/>
                    </h:column>

                </h:panelGrid>
                <script>
                    $('#tmrform\\:reqdate').datepicker({autoclose: true, language: '#{swtLanguage.language}'});
                    $('#tmrform\\:leadtiem').datepicker({autoclose: true, language: '#{swtLanguage.language}'});
                </script>
                <h:panelGrid columns="2" style="margin:auto;">
                    <h:commandButton class="btn btn-signin" value ="#{gen_msg['send']}" action="#{toolMakingBean.agregar()}">
                        <f:ajax execute="@form" render="onsuccessAns @form resultFormAns slitherAns refremeta"/>
                    </h:commandButton>
                    <h:commandButton class="btn btn-signin" value ="#{aees_msg['cancel']}" action="#{toolMakingBean.limpiar()}">
                        <f:ajax execute="@this" render="ondescarAns  @form resultFormAns  slitherAns refremeta" />
                    </h:commandButton>
                </h:panelGrid>
            </h:form>
        </h:body>
    </f:view>
</html>


