<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
    <f:view  rendered="#{tabEsrEaEoBean.homeManager()}" locale="#{swtLanguage.locale}">
        <h:head>
        
            <title></title> <!-- Nombre de la página - aplicación -->
            <h:outputScript library="styleAE" name="js/pdf.js"/>
                  <h:outputStylesheet library="styleAE" name="css/styleAEIS.css"/>    
                   <h:outputStylesheet library="styleAE" name="css/estilos.css"/>   
        </h:head>
        <h:body >
            <h:panelGroup id="scripq">
                <script type="text/javascript" >
                    
                $(function (){
                var sel =document.getElementById("matrona2:idx").value;
                
                if(sel == 1){
                $("#engHours").show();
                $("#EsrRela").hide();
                $("#chekEmail").hide();
                $("#RepEsr").hide();
                }
                else if(sel == 2){
                $("#engHours").hide();
                $("#EsrRela").show();
                $("#chekEmail").hide();
                $("#RepEsr").hide();
                } else if(sel == 3){
                $("#engHours").hide();
                $("#EsrRela").hide();
                $("#chekEmail").show();
                $("#RepEsr").hide();
                }               
                });
                
                 
                 </script>
                    
                </h:panelGroup>
            <h:form id="matrona2">               
                <h:inputHidden id="idx" value="#{reportesSeguiCheqBean.idx}"/>
                <script type="text/javascript">
                    function generateReport() {
                       var win = window.open("/EngineeringManage/pages/reportes/repNavigation.xhtml","_blank");
                    }
                function repesr(){
                    $('#reports\\:repesr').trigger("click");
                }
                function repH(){
                    $('#reports\\:repH').trigger("click");
                }
                function viewEmail(){
                    $('#reports\\:viewEmail').trigger("click");
                }
                function esrI(){
                    $('#reports\\:esrI').trigger("click");
                }
                function esrR(){
                    $('#reports\\:esrR').trigger("click");
                }
                function esrExcel(){
                    $('#reports\\:esrExcel').trigger("click");
                }
                function esrExcelH(){
                    $('#reports\\:esrExcelH').trigger("click");
                }

                $(document).ready(function () {
                        crearModal('#modReporteEsrC', '50%');
                        crearModal('#modRelated', '50%');
                                                
                        $( "#modReporteEsrC" ).dialog( "option", "title", "#{gen_msg['repEsr']}" );
                        $( "#modRelated" ).dialog( "option", "title", "#{gen_msg['repesrre']}" );
                });
               
                </script>

            </h:form>
               
                
            <h:panelGroup>                        

                <h:form id="reports" class="estiloFormuReportChequeo">

                    <h:panelGrid columns="1" class="anchoPanelReportChequeo cien-prc" columnClasses="twenty-prc, seventyfive-prc" >
                        <section class="ac-container" >
                            <div id="acor110" >
                                <input id="ac-rep1" class="input" name="accordion-1" type="radio" onclick="repesr();"/>
                                <label class="label" for="ac-rep1">#{gen_msg['repEsr']}</label>
                            </div>
                            <div id="acor20" >
                                <input id="ac-rep2" class="input" name="accordion-1" type="radio" onclick="repH();"/>                                        
                                <label class="label" for="ac-rep2">#{gen_msg['repEsrHist']}</label>
                            </div>
                            <div id="acor50" >
                                <input id="ac-rep5" class="input" name="accordion-1" type="radio" onclick="esrR();"/>                                        
                                <label class="label" for="ac-rep5">#{gen_msg['repesrre']}</label>
                            </div>
                            <div id="acor60" >
                                <input id="ac-rep6" class="input" name="accordion-1" type="radio" onclick="esrI();"/>                                        
                                <label class="label" for="ac-rep6">#{gen_msg['repintern']}</label>
                            </div>
                            <div id="acor70" >
                                <input id="ac-rep7" class="input" name="accordion-1" type="radio" onclick="esrExcel();"/>
                                <label class="label" for="ac-rep7">#{gen_msg['repEsr']} en Excel</label>
                            </div>
                            <div id="acor80" >
                                <input id="ac-rep8" class="input" name="accordion-1" type="radio" onclick="esrExcelH();"/>                                        
                                <label class="label" for="ac-rep8">#{gen_msg['repEsrHist']} en Excel</label>
                            </div>
                        </section>
                    </h:panelGrid>
                    <h:commandButton id="repesr" class="btn btn-signin" value="#{gen_msg['repEsr']}" style="display: none;" 
                                     action="#{tabEsrEaEoBean.llenarESRs(contCheckBean.elemento.contCheckId)}">
                        <f:ajax execute="@this" render="matrona2 executeReport refremeta" />
                    </h:commandButton>
                    <h:commandButton id="repH" class="btn btn-signin" value="#{gen_msg['repEsrHist']}" style="display: none;"
                                      action="#{tabEsrEaEoBean.llenarHistorico(contCheckBean.elemento.contCheckId)}">
                        <f:ajax execute="@this"  render="matrona2 executeReport refremeta" />
                    </h:commandButton>

                    <h:commandButton id="viewEmail" class="btn btn-signin" value="#{gen_msg['viewemail']}" style="display: none;">
                        <f:ajax execute="@form" listener="#{tabEsrEaEoBean.viewEmail(contCheckBean.elemento.contCheckId)}" render="matrona matrona2 resultForm660 scrip refremeta" />
                    </h:commandButton>
                    <h:commandButton  id="esrI" class="btn btn-signin" value="#{gen_msg['repintern']}" style="display: none;" 
                                       action="#{tabEsrEaEoBean.llenarCI(contCheckBean.elemento.contCheckId)}">
                        <f:ajax execute="@this" render="matrona2 executeReport refremeta" />
                    </h:commandButton>
                    <h:commandButton id="esrR" class="btn btn-signin" value="#{gen_msg['repesrre']}" style="display: none;"
                                     action="#{tabEsrEaEoBean.Engrep(contCheckBean.elemento.contCheckId)}">
                    </h:commandButton>
                    <h:commandButton id="esrExcel" class="btn btn-signin" value="#{gen_msg['esrExc']}" style="display: none;" 
                                     action="#{tabEsrEaEoBean.llenarESRExcel(contCheckBean.elemento.contCheckId)}">
                    </h:commandButton>
                    <h:commandButton id="esrExcelH" class="btn btn-signin" value="#{gen_msg['esrExcH']}" style="display: none;" 
                                     action="#{tabEsrEaEoBean.llenarHistoricoExcel(contCheckBean.elemento.contCheckId)}">
                    </h:commandButton>
                </h:form>
                
            </h:panelGroup>
            
            <h:panelGroup id="modRelated" style="display:none;" class="modalhe" pt:title="#{aees_msg['engDisposition']}">

                <div id="insRelated" class="styleacordeon scroll frameRepoESRelacionado" >
                    <ui:insert name="newContent">
                        <ui:include src="/pages/reportes/ReporteEsrRelacionados.xhtml"/>
                    </ui:insert>
                </div>

                <h:form id="modRelatedForm" class="botonModalRepoESRelacionado">

                    <div class="divBotonesmodalpdfESRelacionado">
                        <div class="col-md-4 col-sm-4 col-xs-4 col-lg-4">
                            <h:commandButton class="btn btn-signin" value ="#{gen_msg['discard']}" onclick="$('#modRelated').dialog('close');" >
                                <f:ajax execute="@this" render="@form refremeta" />
                            </h:commandButton>
                        </div>                       
                    </div>
                </h:form>
            </h:panelGroup>
            
            <h:panelGroup id="executeReport">
                <h:outputScript rendered="#{facesContext.postback and not facesContext.validationFailed}">
                    generateReport();
                </h:outputScript>
            </h:panelGroup>
            
        </h:body>
    </f:view>
</html>
