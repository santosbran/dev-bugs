<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:c="http://java.sun.com/jsp/jstl/core">
    <f:view rendered="#{tabEsrEaEoBean.homeManager()}" locale="#{swtLanguage.locale}">
        <h:head>
        <title></title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
                     <h:outputStylesheet library="styleAE" name="css/styleAEIS.css"/>    
        <style>
            
            header, footer {
                height: 0px !important;
            }
            table.dataTable.dtr-inline.collapsed>tbody>tr.parent>td:first-child:before, table.dataTable.dtr-inline.collapsed>tbody>tr.parent>th:first-child:before {
                content: '-';
                background-color: #e5412d !important; /* #bf1e2d;*/
            }
            table.dataTable.dtr-inline.collapsed>tbody>tr>td:first-child:before, table.dataTable.dtr-inline.collapsed>tbody>tr>th:first-child:before {
                top: 8px;
                left: 6px;
                background-color: darkcyan !important;/*#55a106 !important; #003f72;*/
                display: block;
                height: 18px !important;
                width: 19px !important;
                border: hidden !important; 
                border-radius: 16px !important;
                font-family: 'Courier New', Courier, monospace;
                font-size: 1.1em !important;
                position: absolute !important;
                color: white;
                text-align: left;
                text-indent: 5px !important; 
                line-height: 19px !important; 
                content: '+';
                background-color: darkcyan !important;/*#55a106 !important; #003f72;*/
                font-weight: 400 !important;
                margin-top: -3px !important;
                box-shadow: 0 0 3px #444;
                box-sizing: content-box;
            }
            
            .dataTables_wrapper {
                background: rgba(205,204,204,0.65) !important; 
            }
            /*Nuevos estilos MroHolding*/
            .tablehand>tbody>tr:hover{
                background-color: gray !important;
                color: white !important;
            }
            table.dataTable thead {
                background-color: gray !important;
            }
            .row {
                background: white !important;
            }
            #das1{
                /*height: 122% !important;*/
            }
            
        /* *********************************************************************************************************************************************** */    
        .estiloFormuButea{         
            width: 100%;
            margin-top: 42%;
        }
        .estiloFormuDispo{
            width: 100%;
            margin-top: 31%;
            position: absolute;
        }
        .estiloFormuEA{
            width: 100%;
            margin-top: -4%;
            position: absolute;
            margin-left: -30%;
        }

        .divBotonesCoverEA{
            
            margin-left: 18%;
                     
            width: 100%;

        }
        .botonMasIngenieros {                        
            bottom: 6% !important;
            position: absolute;
            margin-right: 46%;
            margin-left: 95%;
        }
        .divBotonDispo{
            margin: auto;
            margin-left: 15%;
            margin-right: 30%;
        }
        .divBotonEA{
            margin: auto;
            margin-left: 30%;
            margin-right: 15%;
        }

        .divBotonesCoverEA > .col-md-2 > .btn,
        .divBotonesCoverEA > .col-sm-2 > .btn,
        .divBotonesCoverEA > .col-lg-2 > .btn,
        .divBotonesCoverEA > .col-xs-2 > .btn{
            white-space: normal !important;
            word-wrap: break-word !important; 
        }
        .divBotonesEA > .col-md-4 > .btn,
        .divBotonesEA > .col-sm-4 > .btn,
        .divBotonesEA > .col-lg-4 > .btn,
        .divBotonesEA > .col-xs-4 > .btn{
            white-space: normal !important;
            word-wrap: break-word !important; 
        }
        .estiloParam {
            display:block;
            height: 94% !important;
        }


        @media (min-width: 1150px) and (max-width: 1430px){
            .estiloFormuButea {
                margin-top: 53% !important;
            }
        }

        @media (min-width: 1000px) and (max-width: 1149px){
            .divBotonesCoverEA > .col-md-2,
            .divBotonesCoverEA > .col-sm-2,
            .divBotonesCoverEA > .col-lg-2,
            .divBotonesCoverEA > .col-xs-2{
                margin-right: -2% !important;
                width: 19% !important;
            }
            .estiloFormuButea {
                margin-top: 75% !important;
            }
        }
        @media (min-width: 895px) and (max-width: 999px){
            .estiloFormuButea {
                width: 105% !important;
                margin-top: 82% !important;
            }
            .divBotonesCoverEA > .col-md-2,
            .divBotonesCoverEA > .col-sm-2,
            .divBotonesCoverEA > .col-lg-2,
            .divBotonesCoverEA > .col-xs-2{
                margin-right: -3% !important;
                width: 20% !important;
            }
        }
        @media (min-width: 770px) and (max-width: 894px){
            
            .divBotonesCoverEA > .col-md-2,
            .divBotonesCoverEA > .col-sm-2,
            .divBotonesCoverEA > .col-lg-2,
            .divBotonesCoverEA > .col-xs-2{
                margin-right: -2% !important;
                width: 19% !important;
            }
        }



        @media (min-width: 695px) and (max-width: 769px){
            
            .divBotonesCoverEA > .col-md-2,
            .divBotonesCoverEA > .col-sm-2,
            .divBotonesCoverEA > .col-lg-2,
            .divBotonesCoverEA > .col-xs-2{
                margin-right: -2% !important;
                width: 19% !important;
            }
            .divBotonesCoverEA > .col-md-2 > .btn,
            .divBotonesCoverEA > .col-sm-2 > .btn,
            .divBotonesCoverEA > .col-lg-2 > .btn,
            .divBotonesCoverEA > .col-xs-2 > .btn{
                width: 100% !important;
                margin-top: 0 !important;
                font-size: 12px !important;
            }

        }      
        @media (min-width: 475px) and (max-width: 694px){
            .divBotonesCoverEA > .col-md-2,
            .divBotonesCoverEA > .col-sm-2,
            .divBotonesCoverEA > .col-lg-2,
            .divBotonesCoverEA > .col-xs-2{
                width: 41% !important;
                margin-bottom: 1% !important;

            }
            .divBotonesEA{
                width: 86% !important;                  
                margin-left: 19% !important;

            }
        }
        @media (max-width: 474px){
            .divBotonesCoverEA {
                margin: auto;
                margin-left: 14%;
            }
            .divBotonesCoverEA > .col-md-2,
            .divBotonesCoverEA > .col-sm-2,
            .divBotonesCoverEA > .col-lg-2,
            .divBotonesCoverEA > .col-xs-2{
                width: 100%;
                margin-bottom: 1%;
            }
            .divBotonesEA > .col-md-4,
            .divBotonesEA > .col-sm-4,
            .divBotonesEA > .col-lg-4,
            .divBotonesEA > .col-xs-4{
                width: 100%;
                margin-bottom: 1% !important;
                margin-left: auto !important;
                margin-right: auto !important;
            }                
            .divBotonesEA{
                margin: auto !important;
                width: 80% !important;

            }           
        }


        @media screen and (max-height: 785px){
            .estiloParam {
                display:block;
                height: 94% !important;
                overflow: auto;
            }

            .estiloFormuButea {
                margin-top: 46% !important;
            }
            #ea > .fondo {
                height: 150% !important;
            }
            #engineerTools {
                height: 99% !important;
            }               
            .divBotonesCoverEA > .col-md-2 > .btn,
            .divBotonesCoverEA > .col-sm-2 > .btn,
            .divBotonesCoverEA > .col-lg-2 > .btn,
            .divBotonesCoverEA > .col-xs-2 > .btn{                       
                font-size: 12px !important;
                height: 50% !important;

            }
            /*            .handleParamIngenieros {
                            margin-top: 0.6% !important;
                        }*/

        }
        ul.form2 {
            position: absolute;
            background: white;
            width: auto;
            padding: 0px;
            right: 68%;
            z-index: 999;
            top: 0%;
            border-radius: 5px;
        }
                
        
        /* Nuevo */
        .mainIngenieros > article{
            margin-top: 9px;
        }
         .divSearchESRIng2ETR{
            width: 30% !important;
            margin-left: 88% !important;
            margin-top: -3.5%;
            position: absolute;
        }
        @media (min-width: 1200px) and (max-width: 1328px){
            .divSearchESRIng2ETR{
                width: 36% !important;
                margin-left: 87% !important;
                margin-top: -5%;
            }
        }
        @media (min-width: 1130px) and (max-width: 1199px){
            .divSearchESRIng2ETR{
                width: 45% !important;
                margin-left: 84% !important;
                margin-top: -5.5%;
            }
        }
        @media (min-width: 1030px) and (max-width: 1129px){
            .divSearchESRIng2ETR{
                width: 61% !important;
                margin-left: 80% !important;
                margin-top: -5.5%;
            }
        }
        @media (min-width: 911px) and (max-width: 1029px){
            .divSearchESRIng2ETR{
                margin-left: 76% !important;
                margin-top: -6.5%;
            }
        }
        @media (min-width: 0px) and (max-width: 910px){
            .divSearchESRIng2ETR{
                width: 83% !important;
                margin-left: 62% !important;
                margin-top: 0%;
            }
        }
        </style>
        <script>            
            function addmenuTablaNWSETR(){ 
                $("#botonesOcultosDASH\\:idAirCraftButton2ETR").trigger("click"); 
                $("#botonOcultarEngi\\:btRenderBtnadd2ETR").click();                
            }
            function ocultarbtn(){
                $("#menuDhashBordx2").addClass("btnNone"); 
            }
            function mostrarbtn(){
                $("#menuDhashBordx2").removeClass("btnNone"); 
            }
        </script>
<style>
    .imageRet{    
        background-image: url("#{resource['styleAE:img/main/back13.svg']}") !important;
        background-repeat: no-repeat !important;
        background-position: 40% -5px !important;
        background-size: 23px 45px;
    }	
   .imageRet:hover{    
  	 border-color: #bf1e2d !important;
   }
   

@media (max-width: 895px) and (min-width: 0){
 .imageRet {   
    margin-top: 10% !important;
    margin-left: 1% !important;
}
}
@media screen and (max-width:630px){
 .imageRet {   
    margin-top: 11% !important;
      
}
}
@media screen and (max-width:580px){
 .imageRet {   
    margin-top: 12% !important;
}
}
@media screen and (max-width:515px){
 .imageRet {   
    margin-top: 13% !important;
    }
}

@media screen and (max-height:800px){
 .handle1Eng {   
    top: 92px !important;
    }
}
@media screen and (max-height:700px){
 .handle1Eng {   
    top: 90px !important;
    }
}
    </style>
    </h:head> 
    <h:body>
        <h:form id="busqFormETR" style="    margin: 0% 0% 0% -3%;">       
                        
                        <div class="divSearchESRIng2ETR">
                        <div class="col-md-6 col-sm-6 col-xs-6 col-lg-6 campoBusquedaIng">
                            <h:inputText value="#{tabEsrEaEoBean.airWork}" class="form-control" id="txtBusquedaETR1"
                                         pt:placeholder="#{aees_msg['workOrder']} /  #{aees_msg['colAirp']}" autocomplete="off" readonly="true">
                                <f:ajax execute="@this" event="keyup" render="@this refremeta"/>
                            </h:inputText>
                            <h:inputText value="#{tabEsrEaEoBean.workOrderJob}" class="form-control" id="txtBusquedaETR"
                                         pt:placeholder="#{aees_msg['workOrder']} /  #{aees_msg['colAirp']}" autocomplete="off" style="display: none">
                                <f:ajax execute="@this" event="keyup" render="@this refremeta"/>
                            </h:inputText>
                        </div>
                      
<!--                            *******************  ETR  ******************************-->
                            
                              <div class="col-md-3 col-sm-3 col-xs-3 col-lg-3 alin-der botonBusquedaIng" style="display: none">
                            <h:commandButton id="busqueETR" value="#{gen_msg['search']}" class="btn btn-signin" action="#{tabEsrEaEoBean.buscarWorkOrderJob()}">
                                <f:ajax execute="@form txtBusquedaESR" render="collapse2 tabs-all das1 close-bt2 matrona idorder nombs scrip autocom esrcompanyscrip res idesr
                                     compnay idGrupoIngSup resultabtodosComp panelTODOS refremeta totaletr txtBusquedaETR1 txtBusquedaETR"/>
                            </h:commandButton>
                        </div>
                        <div class="col-md-3 col-sm-3 col-xs-3 col-lg-3 alin-izq" style="display: none">
                            <h:commandButton id="discarETR" value="#{gen_msg['discard']}" class="btn btn-signin"
                                             action="#{engtabEsrnwsVwBean.llenarESRTab()}">
                                <f:ajax execute="@form" render="@form ondescarTaskCard collapse2 tabs-all das1 close-bt2 matrona idorder nombs scrip autocom esrcompanyscrip res idesr
                                     compnay idGrupoIngSup resultabtodosComp panelTODOS refremeta totaletr "/>
                            </h:commandButton>
                        </div>
                            <h:commandButton id="ocBusqueETR" value="#{gen_msg['search']}" style="display: none" action="#{tabEsrEaEoBean.buscarWorkOrderJobIng()}">
                                <f:ajax execute="@form" listener="#{contCheckBean.setParamer()}" render="@form collapse2 tabs-all das1 close-bt2 matrona idorder nombs scrip autocom 
                                        esrcompanyscrip res idesr
                                     compnay idGrupoIngSup resultabtodosComp panelTODOS refremeta totaletr"/>
                        </h:commandButton>
                        <h:commandButton id="ocDiscarETR" value="#{gen_msg['discard']}" style="display: none" action="#{engtabEsrnwsVwBean.llenarESRTab()}">
                                <f:ajax execute="@form" render="@form totalesr refremeta"/>
                        </h:commandButton>
                        <h:commandButton id="ocRenderETR" value="#{gen_msg['discard']}" style="display: none">
                                <f:ajax execute="@form" render="@this inputForm70ETR refremeta"/>
                                <f:ajax execute="@form" render="@this inputForm70ETR refremeta"/>
                        </h:commandButton>
                            
<!--                            *************************************************-->
                            
                            
                            
                    </div>
                
            </h:form>
        <h:form id="botonOcultarEngiETR">
            <h:commandButton id="btRenderBtnadd2ETR" style="display: none" action="#{tabEsrEaEoBean.limpiar2(2)}">
                <f:ajax execute="btRenderBtnadd2ETR" render="btRenderBtnadd2ETR refremeta"/>
            </h:commandButton>
        </h:form>
         <h:form id="menuDhashBordx2ETR"> 
             <h:commandButton id="icoBackETR" 
                 class="btn btn-signin butomclassesr imageRet" title="Back" onclick="addmenuTablaNWSETR()" style="position: fixed;top: 15px;height: 38px;">
                                <f:ajax execute="@this" render="@this refremeta"/>
             </h:commandButton>     
        </h:form> 
        <div id='mainETR' class="mainIngenieros">            
                <nav id="das1ETR" style="display:none" >
                    <div id="close-bt2ETR" class="estiloHeaderMroholdings">ETR (<h:panelGroup id="totaletr">#{tabEsrEaEoBean.listfiltro.size()}</h:panelGroup>)
                        <div id="divOcultarEsrTabnsETR" class="image"  title="#{gen_msg['hide']}"><a href="#collapse2" class="nav-toggle" >
                                <i id="tog1EngETR" class="gli-a glyphicon glyphicon-chevron-up colorGlyphicon parametroflechaESRIngenieros" />                                
                            </a>
                        </div>                     
                    </div>
                    <div id="collapse2ETR" class="bloque panelAj1 alturaCollapse2Ingenieros" style="display:block;">
                  
                    </div>
                </nav>   
                
                <article> 
                    <div id="close-bt3ETR" class="estiloHeaderMroholdings">                        
                        <h:panelGroup id="nombsETR">
                            <h:outputText value="#{gen_msg['paneletr']}"  class="margenTitulosIngenieros"/>
                         
                        </h:panelGroup>             
                        <div class="image">
                            <a href="#collapse3" class="nav-toggle" />
                        </div>
                        <div>
                            <a id="handle1EngETR" class="handle1Eng" style="display: block; left: 9px; top: 98px; position: absolute;">
                                <span class="gli-a glyphicon glyphicon-chevron-right colorGlyphicon parametroflechaESRIngenieros2" aria-hidden="true"/><label class="slide-label1"></label>
                            </a>
                        </div>                        
                    </div>
                    <div id="collapse3ETR" class="bloque panelAj2 estiloCollapse3Ingenieros" style="display:block;" onscroll="onscrollfnction();">

                        <h:panelGroup id="divSupETR">
                            
                                  
                            <div id="etr" class="styleacordeon scroll panelesr divpanelCentralIngenierosESR"
                                 style="display: inherit;">

                                <ui:insert name="newContent">
                                    <ui:include src="/pages/esr/tabETR.xhtml"/>
                                </ui:insert>

                            </div>
                             <h:panelGroup id="divInicialETR">
                            <div id="inicialPageETR" class="styleacordeon scroll panelesr divpanelCentralIngenierosESR"
                                 style="display: none;">

                                <ui:insert name="newContent">
                                    <ui:include src="/pages/esr/tabETRInicial.xhtml"/>
                                </ui:insert>

                            </div>
                        </h:panelGroup>
                        
                            
                      
                            
                        </h:panelGroup>
                     
                        
                        
                        
                        <div id="spinnerhmsETR" class="dimensionesSpinner" style="display: none;" >
                            <div id="loader-wrapper" class="loadingif">
                                <div id="loader">
                                </div>
                                <div id="content">
                                    <h3>#{gen_msg['loading']}</h3>
                                </div>
                            </div>
                        </div>
                        
                        

                        <div id="trackingETR" class="styleacordeon scroll" style="display:none;overflow: auto;width: 90%;
                                                                        height: 100% !important;
                                                                        margin-left: 5%;
                                                                        margin-bottom: 5%;">
                      
                        </div>
                        
                        <div id="coverETR" class="styleacordeon scroll" style="display:none;">
                         
                        </div>
                        <div id="partsETR" class="styleacordeon scroll" style="display:none;">
                        
                        </div>

                    </div>
                    
                    
                    <h:form  id="DispoETR" class="estiloFormuDispo" style="display: none;">
                        <div class="divBotonDispo">
                            <div class="col-md-2 col-sm-2 col-lg-2 col-xs-2 d-flex">
                                <h:commandButton class="btn btn-signin srbuton" value ="ESR">
                                    <f:ajax execute="@form" listener="#{tabEsrEaEoBean.volverEsrs()}" render="matrona scrip converea inputForm70:status refremeta"/>
                                </h:commandButton>
                            </div>
                        </div>
                    </h:form>
                    <h:form  id="DocEAETR" class="estiloFormuEA" style="display: none;">                               
                                <h:commandButton class="btn btn-signin srbuton" value ="EA" id="btnBackDoc" style="display: none;">
                                    <f:ajax execute="@form" listener="#{tabEsrEaEoBean.eas()}" render="matrona scrip converea refremeta"/>
                                </h:commandButton>                 
                    </h:form>
                    <h:form  id="EmailEAETR" style="width: 100%;display: none;">
                         <h:panelGrid columns="2" style="margin: auto;" >
                             <h:commandButton class="btn btn-signin srbuton" value ="EA"  style="margin-top: 0;" >
                                <f:ajax execute="@form" listener="#{tabEsrEaEoBean.eas()}" render="matrona scrip converea refremeta"/>
                            </h:commandButton>
                             <h:commandButton class="btn btn-signin srbuton" value ="Document EA"  style="margin-top: 0;" >
                                <f:ajax execute="@form" listener="#{tabEsrEaEoBean.ea(engAutorizationBean.elemento.eagId)}" render="@form matrona scrip part scripea resultForm71 refremeta"/>
                            </h:commandButton>
                             </h:panelGrid>
                    </h:form>
                    <h:form  id="EsrRepETR" style="width: 100%;display: none;">
                         <h:panelGrid columns="2" style="margin: auto;" >
                            <h:commandButton class="btn btn-signin srbuton" value ="ESR"  style="margin-top: 0;" >
                                <f:ajax execute="@form" listener="#{tabEsrEaEoBean.volverEsrs()}" render="matrona scrip converea inputForm70 refremeta"/>
                            </h:commandButton>                             
                           <h:commandButton class="btn btn-signin srbuton" value ="#{gen_msg['rep']}" style="margin-top: 0;" >
                               <f:ajax listener="#{tabEsrEaEoBean.reporteESR(esrBean.elemento.reqMessageid)}" render="matrona scrip viewReportes refremeta" />
                           </h:commandButton>
                             </h:panelGrid>
                    </h:form>
                    <h:form  id="trackidivETR" style="width: 100%;display: none;">
                         <h:panelGrid columns="1" style="margin: auto;" >
                             <h:commandButton class="btn btn-signin srbuton" value ="ESR"  style="margin-top: 0;" >
                                <f:ajax execute="@form" listener="#{tabEsrEaEoBean.volverEsrs()}" render="matrona scrip converea inputForm70:status refremeta"/>
                            </h:commandButton>
                             </h:panelGrid>
                    </h:form>
                  
               
                     <h:form  id="butetr" style="width: 100%;display: none;" >
                        <script type="text/javascript">

                            
                            function mostrarusersolicitaETR(){
                                var valoruser= $("#inputForm70ETR\\:userhidenETR").val();
                                $("#inputForm70ETR\\:slcReqMETR").val(valoruser);
                            }
                        </script>
                    </h:form>
                    <script>
                        function saveorclean(ope) {
                                if (ope == 1) {
                                    $("#inputForm70ETR\\:saveETR").trigger("click");
                                    $("#butetr\\:usersolicitaETR").trigger("click");
                                    
                                } else {
                                    $("#inputForm70ETR\\:cleanETR").trigger("click");
                                    $("#butetr\\:usersolicitaETR").trigger("click");
                                }
                            }
                    </script>
                    
                </article>
               
            <a id="handleEng" class="handleEng" style="top: 12.5%; position: absolute;right: 9px;">
                <span class="parametroflecha gli-a glyphicon glyphicon-chevron-left colorGlyphicon posicionGlyleft parametroflechaParameterIng2" aria-hidden="true"/>
                <label class="slide-label"/>
            </a>

                <aside id="das" style="display:none" >
                    <div id="close-bt4" class="estiloHeaderMroholdings">#{gen_msg['parameter']}
                        <div class="image" >
                            <a href="#collapse4" class="nav-toggle" >
                                <i id="togEng" class="gli-a glyphicon glyphicon-chevron-up colorGlyphicon parametroflechaParameterIng"/>
                            </a>
                        </div>
                    </div>
                    <div id="collapse4" class="bloque panelAj3 fondoPanelderecho estiloParam">
                          </div>
                </aside>

            </div>
        
        <h:panelGroup id="alertCancelEAETR" style="display:none;" pt:title="#{gen_msg['delete']}">

            <h:form id="removeCancelETR">

                <h:panelGrid columns="1" columnClasses="cien-prc center-align" class="cien-prc">
                    <h:outputLabel value="#{aees_msg['deleteitem']}?"/> 
                </h:panelGrid>

                <h:panelGrid columns="2" style="margin:auto;">
                    <h:commandButton class="btn btn-signin" value ="#{gen_msg['acept']}" action="#{tabEsrEaEoBean.cancelarEA()}" >
                        <f:ajax execute="@form" render="onsuccessCancel inputForm68 resultFormEAList butea:cancelea refremeta"/>
                    </h:commandButton>
                    <h:commandButton class="btn btn-signin" value ="#{gen_msg['cancel']}" onclick="$('#alertCancelEA').dialog('close');">
                        <f:ajax execute="@this" render="@this refremeta" />
                    </h:commandButton>
                </h:panelGrid>

            </h:form>

        </h:panelGroup>
        <h:panelGroup id="onsuccessCancelETR">
            <h:outputScript rendered="#{facesContext.postback and not facesContext.validationFailed}">
                $("#alertCancelEA").dialog("close");
                alertify.success("#{aees_msg['exito']}");
            </h:outputScript>
        </h:panelGroup>
    </h:body>
    </f:view>
</html>
