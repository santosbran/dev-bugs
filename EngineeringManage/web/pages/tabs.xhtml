<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:c="http://java.sun.com/jsp/jstl/core">
    <f:view locale="#{swtLanguage.locale}">
        <h:head>
            <title>AEES - Sistema de ingenieria </title>
            
            <h:outputScript library="styleAE" name="js/jquery.js" />
            <h:outputScript library="styleAE" name="js/bootstrap.min.js" />
            <h:outputScript library="styleAE" name="js/jquery-ui.js" />
            <h:outputScript library="styleAE" name="js/datatables.min.js" />
            <h:outputScript library="styleAE" name="js/framework.js" />
            <h:outputScript library="jquiAE" name="js/datepicker-es.js" rendered="#{swtLanguage.language eq 'es'}"/> 
            <h:outputScript library="jquiAE" name="js/datatable-es.js" rendered="#{swtLanguage.language eq 'es'}"/>
            <h:outputScript library="styleAE" name="js/table-slow.js" />
            <h:outputStylesheet library="styleAE" name="css/estilos.css"/>
            <h:outputStylesheet library="styleAE" name="css/bootstrap.min.css"/>
            <h:outputStylesheet library="styleAE" name="css/sign-styles.css"/>
            <h:outputStylesheet library="styleAE" name="css/dataTables.min.css"/>
            <h:outputStylesheet library="styleAE" name="css/dataTables.css"/>
            <h:outputStylesheet library="styleAE" name="css/jquery-ui.css"/>
            <h:outputStylesheet library="styleAE" name="css/jquery-ui.theme.css"/>
            <h:outputStylesheet library="styleAE" name="css/main-styles.css"/>
            <h:outputStylesheet library="styleAE" name="font-awesome/css/font-awesome.min.css"/>
        </h:head>
        <h:body>
                <script type="text/javascript">
                function mostrar1(id){
                    $("#resultabtodos" + id + "\\:id" + id).val(id);
                    $("#resultabtodos" + id + "\\:ref" + id).trigger("click");
                }
                function mostrar2(id){
                    $("#resulaesv" + id + "\\:id2" + id).val(id);
                    $("#resulaesv" + id + "\\:ref2" + id).trigger("click");
                }
                function mostrar3(id){
                    $("#resulfsm" + id + "\\:id3" + id).val(id);
                    $("#resulfsm" + id + "\\:ref3" + id).trigger("click");
                }
                function mostrar4(id){
                    $("#resulmex" + id + "\\:id4" + id).val(id);
                    $("#resulmex" + id + "\\:ref4" + id).trigger("click");
                }
                $(function () {
                $("#tabs3").tabs();
            });
            function esrCompany1(com){
                $("#butcom\\:id").val(com);
                $("#butcom\\:but1").trigger("click");
                console.log(com);
            }
            function esrCompany2(com){
                $("#butcom\\:id").val(com);
                $("#butcom\\:but2").trigger("click");
                console.log(com);
            }
            function esrCompany3(com){
                $("#butcom\\:id").val(com);
                $("#butcom\\:but3").trigger("click");
                console.log(com);
            }
            </script>
            <h:form id="butcom">
                <h:inputText value="#{companyBean.company}" style="display: none;" id="id"><f:ajax event="change" render="@this refremeta" /></h:inputText>
                <h:commandButton id="but1" style="display: none;" action="#{tabEsrEaEoBean.esrcompany(companyBean.company)}">
                    <f:ajax  render="@form matrona butcom panelAESV refremeta" execute="@form"  />
                </h:commandButton>
                <h:commandButton id="but2" style="display: none;" action="#{tabEsrEaEoBean.esrcompany(companyBean.company)}">
                    <f:ajax  render="@form matrona butcom panelFSM refremeta" execute="@form"  />
                </h:commandButton>
                <h:commandButton id="but3" style="display: none;" action="#{tabEsrEaEoBean.esrcompany(companyBean.company)}">
                    <f:ajax  render="@form matrona butcom panelMEX refremeta" execute="@form"  />
                </h:commandButton>
            </h:form>
            <div id="tabs3" class="hecien">
                <div id="tabs-1" style="height: 93%">
                    <div class="ingclas hecien">
                        <section class="ac-container" >
                            <h:panelGroup id="panelALL">
                            <c:forEach  items="#{tabEsrEaEoBean.listfiltro}" var="item" >
                                <c:set var="truenull1" value="#{gen_msg['noasig']}#{item.usrCoduser}-#{item.reqProbdesc} #{item.reqCustomer}-#{item.reqTail}"/>
                                <c:set var="falsenull1" value="#{item.usrCoduser}-#{item.reqProbdesc} #{item.reqCustomer}-#{item.reqTail}"/>
                                <div id="acord#{item.esr}" title="#{item.usrCoduser eq null ? truenull1 : falsenull1 }" >
                                    <input id="ac-#{item.esr}" class="input" name="accordion-1" type="checkbox" onclick="mostrar1('${item.esr}');" >
                                        <div class="imgico">


                                            <h:panelGroup rendered="#{tabEsrEaEoBean.verFecha(item.reqFechaIns)eq 1}">
                                                <div class="imgico" rendered="true">
                                                    <span class="badge label-success">O
                                                    </span>
                                                </div>
                                            </h:panelGroup>
                                            <h:panelGroup rendered="#{tabEsrEaEoBean.verFecha(item.reqFechaIns)eq 2}">
                                                <div class="imgico" rendered="true">
                                                    <span class="badge label-warning">O
                                                    </span>
                                                </div>
                                            </h:panelGroup>
                                            <h:panelGroup rendered="#{tabEsrEaEoBean.verFecha(item.reqFechaIns)eq 3}">
                                                <div class="imgico" rendered="true">
                                                    <span class="badge label-danger">O
                                                    </span></div>
                                            </h:panelGroup>

                                        </div>
                                    </input>
                                    <label  for="ac-#{item.esr}" class="label">#{item.woorder}
                                        <c:if test="#{item.tieneHijos ne 0}">
                                            <span class="glyphicon glyphicon-arrow-down" style="float: right;" />
                                        </c:if>
                                        <c:if test="#{item.usrCoduser eq null}">
                                            <span class="glyphicon glyphicon-warning-sign" style="float: right;"/>
                                        </c:if>
                                        <br></br>#{item.reqCustomer}-#{item.reqTail}</label>
                                    
                                    <article class="ac-large">
                                        <div class="styleacordeon" >
                                            <h:form id="resultabtodos#{item.esr}">
                                                <h:dataTable  class="table dt-responsive nowrap table-hover " value="#{tabEsrEaEoBean.listAll}" var="item1" style="width: 100% !important">
                                                    <c:set var="taskeo" value="#{item1[0]}##{item1[1].eoIdord}-#{item1[1].eoSubject}"/>
                                                    <c:set var="taskea" value="#{item1[0]}##{item1[1].eagId}-#{item1[1].eagTitle}"/>
                                                    <c:set var="cuseo" value="#{item1[1].eoCustomer}-#{item1[1].eoTail}"/>
                                                    <c:set var="cusea" value="#{item1[1].eagCustomer}-#{item1[1].eagTail}"/>
                                                    <h:column>
                                                        <h:commandLink  id="lin" action="#{tabEsrEaEoBean.actTodas(item1)}"  style="color:black;">
                                                            <div class="califa cien-prc">
                                                                <h:outputLabel  value="#{item1[0] eq 'EO' ? taskeo : taskea}"  ></h:outputLabel><br></br>
                                                                <h:outputLabel  value="#{item1[0] eq 'EO' ? cuseo : cusea}"  ></h:outputLabel>
                                                            </div> 
                                                            <f:ajax  render="onsucess @form matrona inputForm68 resultFormEAList inputForm69 inputForm70 inputForm71 idorder nombs scrip part inptEA inptEO refremeta" execute="@form"  />
                                                        </h:commandLink>
                                                    </h:column>
                                                </h:dataTable>
                                                <h:inputText value="#{tabEsrEaEoBean.itemId}" style="display: none;" id="id#{item.esr}"><f:ajax event="change" render="@this refremeta" /></h:inputText>
                                                <h:commandButton id="ref#{item.esr}"  style="display: none;" action="#{tabEsrEaEoBean.actESR(tabEsrEaEoBean.itemId)}">
                                                    <f:ajax  render="@form matrona autoesr inputModalhours resultenghours inputForm68 resultFormEAList inputForm69 inputForm70 inputForm71 scrptesr butcom resultabEa resultForm66 idorder nombs scrip autocom resultabtodos#{item.esr} refremeta" execute="@form"  />
                                                </h:commandButton>
                                            </h:form>

                                        </div>
                                    </article>
                                </div>
                            </c:forEach>
                            </h:panelGroup>
                        </section>
                    </div>
                </div>
                <div id="tabs-2" style="height: 93%;">
                    <div class="ingclas hecien">
                        <section class="ac-container" >
                            <h:panelGroup id="panelAESV">
                                <c:forEach  items="#{tabEsrEaEoBean.listesrcompany}" var="item" >
                                    <c:set var="truenull2" value="#{gen_msg['noasig']}#{item.usrCoduser}-#{item.reqProbdesc} #{item.reqCustomer}-#{item.reqTail}"/>
                                    <c:set var="falsenull2" value="#{item.usrCoduser}-#{item.reqProbdesc} #{item.reqCustomer}-#{item.reqTail}"/>
                                    <div id="acord#{item.esr}" title="#{item.usrCoduser eq null ? truenull1 : falsenull1 }" >
                                    <input id="ac-#{item.esr}" class="input" name="accordion-1" type="checkbox" onclick="mostrar2('${item.esr}');" >
                                            <div class="imgico">


                                                <h:panelGroup rendered="#{tabEsrEaEoBean.verFecha(item.reqFechaIns)eq 1}">
                                                    <div class="imgico" rendered="true"><span class="badge label-success">O</span></div></h:panelGroup>
                                                <h:panelGroup rendered="#{tabEsrEaEoBean.verFecha(item.reqFechaIns)eq 2}">
                                                    <div class="imgico" rendered="true"><span class="badge label-warning">O</span></div></h:panelGroup>
                                                <h:panelGroup rendered="#{tabEsrEaEoBean.verFecha(item.reqFechaIns)eq 3}">
                                                    <div class="imgico" rendered="true"><span class="badge label-danger">O</span></div></h:panelGroup>

                                            </div>
                                        </input>
                                        <label  for="ac-#{item.esr}" class="label">#{item.woorder}
                                        <c:if test="#{item.tieneHijos ne 0}">
                                            <span class="glyphicon glyphicon-arrow-down" style="float: right;" />
                                        </c:if>
                                        <c:if test="#{item.usrCoduser eq null}">
                                            <span class="glyphicon glyphicon-warning-sign" style="float: right;"/>
                                        </c:if>
                                        <br></br>#{item.reqCustomer}-#{item.reqTail}</label>
                                        <article class="ac-large">
                                            <div class="styleacordeon" >
                                                <h:form id="resulaesv#{item.esr}">
                                                    <h:dataTable  class="table dt-responsive nowrap table-hover " value="#{tabEsrEaEoBean.listAll}" var="item1" style="width: 100% !important">

                                                        <c:set var="taskeo" value="#{item1[0]}##{item1[1].eoIdord}-#{item1[1].eoSubject}"/>
                                                        <c:set var="taskea" value="#{item1[0]}##{item1[1].eagId}-#{item1[1].eagTitle}"/>
                                                        <c:set var="cuseo" value="#{item1[1].eoCustomer}-#{item1[1].eoTail}"/>
                                                        <c:set var="cusea" value="#{item1[1].eagCustomer}-#{item1[1].eagTail}"/>
                                                        <h:column>
                                                            <h:commandLink  id="lin" action="#{tabEsrEaEoBean.actTodas(item1)}"  style="color:black;">
                                                                <div class="califa cien-prc">
                                                                    <h:outputLabel  value="#{item1[0] eq 'EO' ? taskeo : taskea}"  ></h:outputLabel><br></br>
                                                                    <h:outputLabel  value="#{item1[0] eq 'EO' ? cuseo : cusea}"  ></h:outputLabel>
                                                                </div> 
                                                                <f:ajax  render="onsucess @form matrona inputForm68 resultFormEAList inputForm69 inputForm70 inputForm71 idorder nombs scrip part inptEA inptEO refremeta" execute="@form"  />
                                                            </h:commandLink>
                                                        </h:column>
                                                    </h:dataTable>
                                                    <h:inputText value="#{tabEsrEaEoBean.itemId}" style="display: none;" id="id2#{item.esr}"><f:ajax event="change" render="@this refremeta" /></h:inputText>
                                                    <h:commandButton id="ref2#{item.esr}"  style="display: none;" action="#{tabEsrEaEoBean.actESR(tabEsrEaEoBean.itemId)}">
                                                        <f:ajax  render="@form matrona autoesr inputModalhours resultenghours inputForm68 resultFormEAList inputForm69 inputForm70 inputForm71 resultabEo resultabEa resultForm66 idorder nombs scrip autocom resulaesv#{item.esr} refremeta" execute="@form"  />
                                                    </h:commandButton>
                                                </h:form>

                                            </div>
                                        </article>
                                    </div>
                                </c:forEach>
                            </h:panelGroup>
                        </section>
                    </div>
                </div>
                <div id="tabs-3" style="height: 93%;">
                    <div class="ingclas hecien">
                        <section class="ac-container" >
                            <h:panelGroup id="panelFSM">
                            <c:forEach  items="#{tabEsrEaEoBean.listesrcompany}" var="item" >
                                <c:set var="truenull3" value="#{gen_msg['noasig']}#{item.usrCoduser}-#{item.reqProbdesc} #{item.reqCustomer}-#{item.reqTail}"/>
                                <c:set var="falsenull3" value="#{item.usrCoduser}-#{item.reqProbdesc} #{item.reqCustomer}-#{item.reqTail}"/>
                                <div id="acord#{item.esr}" title="#{item.usrCoduser eq null ? truenull3 : falsenull3 }" >
                                    <input id="ac-#{item.esr}" class="input" name="accordion-1" type="checkbox" onclick="mostrar3('${item.esr}');" >
                                        <div class="imgico">


                                            <h:panelGroup rendered="#{tabEsrEaEoBean.verFecha(item.reqFechaIns) eq 1}">
                                                <div class="imgico" rendered="true"><span class="badge label-success">O</span>
                                                </div>
                                            </h:panelGroup>
                                            <h:panelGroup rendered="#{tabEsrEaEoBean.verFecha(item.reqFechaIns) eq 2}">
                                                <div class="imgico" rendered="true"><span class="badge label-warning">O</span></div>
                                            </h:panelGroup>
                                            <h:panelGroup rendered="#{tabEsrEaEoBean.verFecha(item.reqFechaIns) eq 3}">
                                                <div class="imgico" rendered="true"><span class="badge label-danger">O</span></div>
                                            </h:panelGroup>

                                        </div>
                                    </input>
                                    <label  for="ac-#{item.esr}" class="label">#{item.woorder}
                                        <c:if test="#{item.tieneHijos ne 0}">
                                            <span class="glyphicon glyphicon-arrow-down" style="float: right;" />
                                        </c:if>
                                        <c:if test="#{item.usrCoduser eq null}">
                                            <span class="glyphicon glyphicon-warning-sign" style="float: right;"/>
                                        </c:if>
                                        <br></br>#{item.reqCustomer}-#{item.reqTail}</label>
                                    <article class="ac-large">
                                        <div class="styleacordeon" >
                                            <h:form id="resulfsm#{item.esr}">
                                                <h:dataTable  class="table dt-responsive nowrap table-hover " value="#{tabEsrEaEoBean.listAll}" var="item1" style="width: 100% !important">

                                                    <c:set var="taskeo" value="#{item1[0]}##{item1[1].eoIdord}-#{item1[1].eoSubject}"/>
                                                    <c:set var="taskea" value="#{item1[0]}##{item1[1].eagId}-#{item1[1].eagTitle}"/>
                                                    <c:set var="cuseo" value="#{item1[1].eoCustomer}-#{item1[1].eoTail}"/>
                                                    <c:set var="cusea" value="#{item1[1].eagCustomer}-#{item1[1].eagTail}"/>
                                                    <h:column>
                                                        <h:commandLink  id="lin" action="#{tabEsrEaEoBean.actTodas(item1)}"  style="color:black;">
                                                            <div class="califa cien-prc">
                                                                <h:outputLabel  value="#{item1[0] eq 'EO' ? taskeo : taskea}"  ></h:outputLabel><br></br>
                                                                <h:outputLabel  value="#{item1[0] eq 'EO' ? cuseo : cusea}"  ></h:outputLabel>
                                                            </div> 
                                                            <f:ajax  render="onsucess @form matrona inputForm68 resultFormEAList inputForm69 inputForm70 inputForm71 idorder nombs scrip part inptEA inptEO refremeta" execute="@form"  />
                                                        </h:commandLink>
                                                    </h:column>
                                                </h:dataTable>
                                                <h:inputText value="#{tabEsrEaEoBean.itemId}" style="display: none;" id="id3#{item.esr}"><f:ajax event="change" render="@this refremeta" /></h:inputText>
                                                <h:commandButton id="ref3#{item.esr}"  style="display: none;" action="#{tabEsrEaEoBean.actESR(tabEsrEaEoBean.itemId)}">
                                                    <f:ajax  render="@form autoesr matrona inputModalhours resultenghours inputForm68 resultFormEAList inputForm69 inputForm70 inputForm71 resultabEo resultabEa resultForm66 idorder nombs scrip autocom resulfsm#{item.esr} refremeta" execute="@form"  />
                                                </h:commandButton>
                                            </h:form>

                                        </div>
                                    </article>
                                </div>
                            </c:forEach>
                                </h:panelGroup>
                        </section>
                    </div>
                </div>  
                <div id="tabs-4" style="height: 93%;">
                    <div class="ingclas hecien">
                         <section class="ac-container" >
                             <h:panelGroup id="panelMEX">
                                 <c:forEach  items="#{tabEsrEaEoBean.listesrcompany}" var="item" >
                                <c:set var="truenull4" value="#{gen_msg['noasig']}#{item.usrCoduser}-#{item.reqProbdesc} #{item.reqCustomer}-#{item.reqTail}"/>
                                <c:set var="falsenull4" value="#{item.usrCoduser}-#{item.reqProbdesc} #{item.reqCustomer}-#{item.reqTail}"/>
                                <div id="acord#{item.esr}" title="#{item.usrCoduser eq null ? truenull4 : falsenull4 }" >
                                    <input id="ac-#{item.esr}" class="input" name="accordion-1" type="checkbox" onclick="mostrar4('${item.esr}');" >
                                        <div class="imgico">


                                            <h:panelGroup rendered="#{tabEsrEaEoBean.verFecha(item.reqFechaIns)eq 1}"><div class="imgico" rendered="true"><span class="badge label-success">O</span></div></h:panelGroup>
                                            <h:panelGroup rendered="#{tabEsrEaEoBean.verFecha(item.reqFechaIns)eq 2}"><div class="imgico" rendered="true"><span class="badge label-warning">O</span></div></h:panelGroup>
                                                <h:panelGroup rendered="#{tabEsrEaEoBean.verFecha(item.reqFechaIns)eq 3}"><div class="imgico" rendered="true"><span class="badge label-danger">O</span></div></h:panelGroup>

                                        </div>
                                    </input>
                                    <label  for="ac-#{item.esr}" class="label">#{item.woorder}
                                        <c:if test="#{item.tieneHijos ne 0}">
                                            <span class="glyphicon glyphicon-arrow-down" style="float: right;" />
                                        </c:if>
                                        <c:if test="#{item.usrCoduser eq null}">
                                            <span class="glyphicon glyphicon-warning-sign" style="float: right;"/>
                                        </c:if>
                                        <br></br>#{item.reqCustomer}-#{item.reqTail}</label>
                                    <article class="ac-large">
                                        <div class="styleacordeon" >
                                            <h:form id="resulmex#{item.esr}">
                                                <h:dataTable  class="table dt-responsive nowrap table-hover " value="#{tabEsrEaEoBean.listAll}" var="item1" style="width: 100% !important">

                                                    <c:set var="taskeo" value="#{item1[0]}##{item1[1].eoIdord}-#{item1[1].eoSubject}"/>
                                                    <c:set var="taskea" value="#{item1[0]}##{item1[1].eagId}-#{item1[1].eagTitle}"/>
                                                    <c:set var="cuseo" value="#{item1[1].eoCustomer}-#{item1[1].eoTail}"/>
                                                    <c:set var="cusea" value="#{item1[1].eagCustomer}-#{item1[1].eagTail}"/>
                                                    <h:column>
                                                        <h:commandLink  id="lin" action="#{tabEsrEaEoBean.actTodas(item1)}"  style="color:black;">
                                                            <div class="califa cien-prc">
                                                                <h:outputLabel  value="#{item1[0] eq 'EO' ? taskeo : taskea}"  ></h:outputLabel><br></br>
                                                                <h:outputLabel  value="#{item1[0] eq 'EO' ? cuseo : cusea}"  ></h:outputLabel>
                                                            </div> 
                                                            <f:ajax  render="onsucess @form matrona inputForm68 inputForm69 inputForm70 inputForm71 idorder nombs scrip part inptEA inptEO refremeta" execute="@form"  />
                                                        </h:commandLink>
                                                    </h:column>
                                                </h:dataTable>
                                                <h:inputText value="#{tabEsrEaEoBean.itemId}" style="display: none;" id="id4#{item.esr}"><f:ajax event="change" render="@this refremeta" /></h:inputText>
                                                <h:commandButton id="ref4#{item.esr}"  style="display: none;" action="#{tabEsrEaEoBean.actESR(tabEsrEaEoBean.itemId)}">
                                                    <f:ajax  render="@form matrona inputModalhours resultenghours inputForm68 resultFormEAList resultFormEAList inputForm69 inputForm70 inputForm71 resultabEo resultabEa resultForm66 idorder nombs scrip autocom resulmex#{item.esr} refremeta" execute="@form"  />
                                                </h:commandButton>
                                            </h:form>

                                        </div>
                                    </article>
                                </div>
                            </c:forEach>
                             </h:panelGroup> 
                        </section>
                    </div>
                </div>
                <ul>
                    <li><a href="#tabs-1">#{gen_msg['all']}</a></li>
                    <li onclick="esrCompany1('AESV');"><a href="#tabs-2">AESV</a></li>
                    <li onclick="esrCompany2('FSM');"><a href="#tabs-3">FSM</a></li>
                    <li onclick="esrCompany3('MEX');"><a href="#tabs-4">MEX</a></li>
                </ul>
            </div>
            
                
        </h:body>
    </f:view>
</html>



