<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:c="http://java.sun.com/jsp/jstl/core"
      >
    <h:head>
        <title></title>
        <h:outputStylesheet library="styleAE" name="css/styleAEIS.css"/>    
            <h:outputStylesheet library="styleAE" name="css/bootstrap.min.css"/>
               <h:outputStylesheet library="styleAE" name="css/bootstrap.css"/>
            <h:outputStylesheet library="styleAE" name="css/sign-styles.css"/>
            <h:outputStylesheet library="styleAE" name="css/dataTables.min.css"/>
            <h:outputStylesheet library="styleAE" name="css/dataTables.css"/>
            <h:outputStylesheet library="styleAE" name="css/jquery-ui.css"/>
            <h:outputStylesheet library="styleAE" name="css/jquery-ui.theme.css"/>
            <h:outputStylesheet library="styleAE" name="css/main-styles.css"/>
            <h:outputStylesheet library="styleAE" name="css/estilos.css"/>
            <h:outputStylesheet library="styleAE" name="font-awesome/css/font-awesome.min.css"/>
            <h:outputScript library="styleAE" name="js/jquery.js" />
            <h:outputScript library="styleAE" name="js/bootstrap.min.js" />
            <h:outputScript library="styleAE" name="js/jquery-ui.js" />
            <h:outputScript library="styleAE" name="js/datatables.min.js" />
            <h:outputScript library="styleAE" name="js/framework.js"/> 
            <h:outputScript library="jquiAE" name="js/datatable-es.js" rendered="#{swtLanguage.language eq 'es'}"/>
            <h:outputScript library="jquiAE" name="js/datepicker-es.js" rendered="#{swtLanguage.language eq 'es'}"/>
            <h:outputScript library="styleAE" name="js/table-slow.js" />
            <h:outputScript library="styleAE" name="js/menu-slow.js" />
            <h:outputScript library="styleAE" name="alerts/alertify.js"/>
            <h:outputScript library="styleAE" name="alerts/alertify.min.js"/>
            <h:outputStylesheet library="styleAE" name="alerts/alertify.core.css"/>
            <h:outputStylesheet library="styleAE" name="alerts/alertify.default.css"/>
            <h:outputStylesheet library="styleAE" name="css/estilos2.css"/>
            <h:outputScript library="styleAE" name="js/funcionesJS.js"/>
            <h:outputScript library="styleAE" name="js/funcionessinnombre.js"/>
            <h:outputStylesheet library="styleAE" name="css/paneleshome.css"/>
            <h:outputScript library="styleAE" name="js/scriptspanelhome.js"/>
            <h:outputScript library="styleAE" name="js/pdf.js"/>
            <h:outputStylesheet library="styleAE" name="css/styleAEIS.css"/>   
        <style>
#ui-datepicker-div{
                    background-color: white!important;
                }
                .ui-datepicker-today{
                    background: lightgray!important;
                    text-shadow: 0px 0px 0px transparent!important;
                }
                .ui-widget-header{
                    font-weight: normal;
                    text-shadow: inherit !important;
                    border: 0!important;
                    color: white !important;
                }
                .ui-datepicker .ui-datepicker-header {
                    background: #e3e3e3;
                    background: #e3e3e3 linear-gradient(top,rgba(255,255,255,0.8),rgba(255,255,255,0));
                    background: #e3e3e3 -webkit-gradient(linear,left top,left bottom,from(rgba(255,255,255,0.8)),to(rgba(255,255,255,0)));
                    background: #e3e3e3 -moz-linear-gradient(top,rgba(255,255,255,0.8),rgba(255,255,255,0));
                    border-right: 0;
                    border-left: none;
                    border-top: 0;
                    -moz-border-radius: 0;
                    -webkit-border-radius: 0;
                    border-radius: 0;
                }
                .ui-datepicker .ui-datepicker-calendar .ui-state-default {
                    border: 0;
                    color: #5f83b9;
                }
                .ui-datepicker .ui-datepicker-title{
                    color: black;
                }
         
             
                 
                 
                 
                 
                         /*Nuevos estilos MroHolding*/
                    .tablehand>tbody>tr:hover{
                  background-color: gray !important;
                  color: white !important;
              }
                       .dataTables_wrapper {

                    background: rgba(205,204,204,0.65) !important; 

                }
                
                     table.dataTable thead {

                  background-color: gray !important;

                }  
                .btn-signin2{
                    background-color: #003c72 !important;
                    width: 100% !important;
                    color: #fff !important;
                    background-image: linear-gradient(to bottom right, #003c72, #003c72)!important;
                }
                
                header, footer {
                    display: block;
                    /* margin: 4px; */
                    /* padding: 5px; */
                    height: 2% !important;
                    background: transparent;
                    margin-top: 0.3%;
                }

                html, body {
                    width: 100%;
                    height: 97%;
                }

                .dataTables_wrapper {

                    background: rgba(205,204,204,0.65) !important; 

                }

                table.dataTable thead {

                    background-color: gray !important;

                }

                ac-container {    
                    height: 30% !important;
                }                        
                table.dataTable tbody tr{
                    vertical-align: middle;
                    cursor: pointer;
                }
                table.dataTable tbody tr.selected {
                    background-color: #003f72;
                    color: white !important;
                    cursor: pointer;
                }
                table.dataTable.dtr-inline.collapsed>tbody>tr>selected:hover{
                    background-color: #003f72;
                    color: white !important;
                    cursor: pointer !important;
                }
                table.dataTable tbody tr.selected label {              
                    color: white !important;
                }
                table.dataTable tbody tr.selected td {              
                    color: white !important;
                }
                
                /* redimension de todos lo paneles al cambio minimo dado*/
       
            
            /* modificacion para ajuste4 de los campos de los forumulario centrales]*/
                    @media all and (max-width: 768px) {

                    .tableeo.pararesponse tr{
                        display: table;
                        width: 100%;
                    }
                    
                    .tableeo.pararesponse td.ten-prc{
                        display: table-row;
                    }
                    
                    .tableeo.pararesponse tr td{
                        width: 30%;
                        text-align: left;
                    }
                    
                    #inputForm70\:wcc{
                        width:  80% !important;
                    }                    
                 }                
                 @media all and (min-width: 831px) and (max-width: 1403px) {
                     #inputForm70\:wcc{
                        width:  58.7% !important;
                    }
                    
                 }
                 
                 @media all and (min-width: 768px) and (max-width: 830px){
                     #inputForm70\:wcc{
                        width:  51.8% !important;
                    }
                    
                 }   
                       .pararesponse{
                     font-weight: bold;
                 }
                 
           
                 #bodyChequeo{
                     overflow-x: hidden;
                     overflow: hidden;
                 }
                .margenCompanyChequeo{
                    margin-left: 0%;
                }
                @media screen and (min-height:400px) and (max-height:449px){
                    .fondoSection{
                        height: 50%;
                    }
                }
                @media screen and (min-height:450px) and (max-height:499px){
                    .fondoSection{
                        height: 55%;
                    }
                }
                @media screen and (min-height:500px) and (max-height:514px){
                    .fondoSection{
                        height: 60%;
                    }
                }
                @media screen and (min-height:515px) and (max-height:549px){
                    .fondoSection{
                        height: 65%;
                    }
                }
                @media screen and (min-height:550px) and (max-height:574px){
                    .fondoSection{
                        height: 70%;
                    }
                }
                @media screen and (min-height:575px) and (max-height:599px){
                    .fondoSection{
                        height: 75%;
                    }
                }
                @media screen and (min-height:600px) and (max-height:700px){
                    .fondoSection{
                        height: 85%;
                    }
                }
                
                @media(min-width:0px) and (max-width:900px){
                    #bodyChequeo{
                        position: relative;
                        top: 31px;
                        overflow: auto!important;
                    }
                }
                
                @media (max-height: 650px) and (min-width: 795px){
                    .altoContenedorPrincipalChequeos {
                        height: 90% !important;
                    }
                }
                @media (max-height: 700px) and (min-width: 895px){
                    .altoContenedorPrincipalChequeos {
                        height: 95% !important;
                    }
                }
                @media (max-width: 1600px) and (min-width: 1500px){
                    .mainChequeosIng{
                        position: absolute !important;
                        margin: 2% 0% 0% 0% !important;
                        width: 100%;
                        height: 91% !important;
                    }
                    .mainChequeosIng > #das1 {
                        height: 97% !important;                
                    }
                    .alturaCollapseCheck {
                        height: 100% !important;
                    }
                    .altoContenedorPrincipalChequeos {
                        height: 100%;
                    }
                }
                body .ui-tooltip {
                    border-width: 0px;
                    background: #4f4f4f !important;
                    z-index: 999999 !important;
                }
                .imageRet2{    
                    background-image: url("#{resource['styleAE:img/main/back13.svg']}") !important;
                    background-repeat: no-repeat !important;
                    background-position: 40% -5px !important;
                    background-size: 23px 45px;
                    margin-top: 2% !important;
                }
        </style>        
        <script>            
            function volverEmpresaHours(){                
                //console.log($("#testHide").parents());
                $("#frEngHours",parent.document).hide();
                //$("#menuAditional\\:imgHours").hide();
                //$("#testHide").hide();
                $("#dashNavigationHangares",parent.document).show(); 
                     menuDashHours();
            }  
            function menuDashHours(){
            //funcion para mostrar el menu respectivo en el dash de aviones
            // y ocultar los otros botones
            $("#ico0",parent.document).css("display","");
            $("#ico1",parent.document).css("display","");
            $("#ico2",parent.document).css("display","");
            $("#ico3",parent.document).css("display","");

            $("#openAcMenu",parent.document).css("display","");
            $("#menuNewAirPlane",parent.document).css("display","");
            
            $("#menuPrintReport",parent.document).css("display","none");
            $("#menuHours",parent.document).css("display","none");
            $("#menuACInfo",parent.document).css("display","none");

            $("#botoneraESR",parent.document).css("display","none");
            }            
        </script>
    </h:head>
    <h:body>  
        <h:form id="menuEngHoursPage"> 
            <h:commandButton  id="icoBackDashHours"
                              class="btn btn-signin butomclassesr imageRet2" title="Back" onclick="volverEmpresaHours()" style="margin: 0% 0% 1% 1%; width: 3% !important;">
                <f:ajax execute="@this" />
            </h:commandButton>        
        </h:form>        
        <!-- HORAS DE INGENIERIA -->
        <h:form id="resultFormEngHours6" class="anchoformularioTablasModalIng">

                <h:inputHidden id="llevavalores" value="#{engHorasIngBean.listadoId}" > </h:inputHidden>

                <h:dataTable  id="tblListado456" class="table table-striped dt-responsive anchoTablasIngenieria"  pt:name="tblListado456" value="#{engHorasIngBean.aux}" var="item">                           
                    <h:column>
                        <f:facet name="header">
                            <h:outputLabel value="#{aees_msg['esrNo']}"/>
                        </f:facet>
                        <f:facet name="footer">
                            <h:outputLabel value="#{aees_msg['esrNo']}"/>
                        </f:facet>
                        <h:outputLabel  value="#{item.esr}"/>
                    </h:column>
                    <h:column>
                        <f:facet name="header">
                            <h:outputLabel value="#{gen_msg['description']}"/>
                        </f:facet>
                        <f:facet name="footer">
                            <h:outputLabel value="#{gen_msg['description']}"/>
                        </f:facet>
                        <h:outputLabel value="#{item.descripcion}"/>
                    </h:column>
                    <h:column>
                        <f:facet name="header">
                            <h:outputLabel value="#{aees_msg['eaCompleted']}"/>
                        </f:facet>
                        <f:facet name="footer">
                            <h:outputLabel value="#{aees_msg['eaCompleted']}"/>
                        </f:facet>
                        <h:outputLabel value="#{item.eacompletado}"/>
                    </h:column> 
                    <h:column> 
                        <f:facet name="header">
                            <h:outputLabel value="#{aees_msg['eaCheckIn']}"/>
                        </f:facet>
                        <f:facet name="footer">
                            <h:outputLabel value="#{aees_msg['eaCheckIn']}"/>
                        </f:facet>
                        <h:selectOneMenu id="eacompleted" value="#{item.comboindex}" class="form-control">                                    
                            <f:selectItems value="#{engEaHrsBean.listado}" var="option" itemLabel="#{option.ehiName}" itemValue="#{option.ehiId}"/>
                            <f:ajax  render="@this refremeta" event="change" listener="#{engHorasIngBean.addElement(item)}"/>
                        </h:selectOneMenu>
                    </h:column>                            
                    <h:column>
                        <f:facet name="header">
                            <h:outputLabel value="#{aees_msg['engHours']}"/>
                        </f:facet>
                        <f:facet name="footer">
                            <h:outputLabel value="#{aees_msg['engHours']}"/>
                        </f:facet>
                        <h:outputLabel value="#{item.horasing}"/>
                    </h:column>
                    <h:column>
                        <f:facet name="header">
                            <h:outputLabel value="#{aees_msg['checkInHours']}"/>
                        </f:facet>
                        <f:facet name="footer">
                            <h:outputLabel value="#{aees_msg['checkInHours']}"/>
                        </f:facet>
                        <h:inputText value="#{item.eafacturar}" class="form-control" maxlength="9" autocomplete="off">
                            <f:ajax event="change" render="@this refremeta" />
                        </h:inputText>     
                    </h:column>
                    <h:column>
                        <f:facet name="header">
                            <h:outputLabel value="#{gen_msg['checkIn']}"/>
                        </f:facet>
                        <f:facet name="footer">
                            <h:outputLabel value="#{gen_msg['checkIn']}"/>
                        </f:facet>
                        <h:selectBooleanCheckbox id="checkFacturar" value="#{item.chequeado}">
                            <f:ajax event="click" render="@this refremeta" />
                        </h:selectBooleanCheckbox>                                   

                    </h:column>


                </h:dataTable>
                <!--Aplicando el formato a la datatable, se hace de esta forma para que se aplique nuevamente tras el rerenderizado del form-->

                <h:outputScript>formatTable('table[name=tblListado456]','${swtLanguage.language}','#inputModal66','.menut8');
                </h:outputScript>
            </h:form>
                        <h:form id="dialogCall">
                           <div class="alinearIzqmsgError">
                               
                                    <h:outputText value="•  #{aees_msg['ChkExHour']}" rendered="#{engHorasIngBean.export == 1}" class="msgError"/>
                      
                            </div>
                            <div class="divBotonesModalesIngHours">
                                <div class="col-md-2 col-sm-2 col-lg-2 col-xs-2" rendered="#{engHorasIngBean.export == 2}">
                                    <h:commandButton class="btn btn-signin" value ="#{gen_msg['genUpdate']}" action="#{engHorasIngBean.actualizar()}" rendered="#{engHorasIngBean.export == 2}">
                                        <f:ajax render="resultFormEngHours6 successH discardH refremeta"/>   
                                    </h:commandButton>
                                </div>
                                <div class="col-md-2 col-sm-2 col-lg-2 col-xs-2">
                                    <h:commandButton class="btn btn-signin" value ="#{gen_msg['discard']}" action="#{contCheckBean.descartarCambiosHours()}" >
                                        <f:ajax render="resultFormEngHours6 refremeta" /> 
                                    </h:commandButton>
                               </div>
                                <div class="col-md-3 col-sm-3 col-lg-3 col-xs-3" >
                                    <h:commandButton class="btn btn-signin imageExcel btn-export-hours" value ="#{gen_msg['genexcel']}" action="#{engHorasIngBean.llenarExcel()}" disabled="#{engHorasIngBean.aux.size() eq 0}"/>                                

                                 </div>
                                <div class="col-md-2 col-sm-2 col-lg-2 col-xs-2" rendered="#{engHorasIngBean.export == 2}">
                                    <h:commandButton class="btn btn-signin" value ="#{gen_msg['exHoras']}" action="#{engHorasIngBean.exporHoras()}"  rendered="#{engHorasIngBean.export == 2}">
                                        <f:ajax execute="@this" render="@form dialogCall successH refremeta"/>
                                    </h:commandButton>

                                </div>
                            </div>
                        
     
                     
                            
                        </h:form>
                        <h:panelGroup id="successH">
                            <h:outputScript rendered="#{facesContext.postback and not facesContext.validationFailed}">
                                alertify.success("#{aees_msg['exito']}");
                            </h:outputScript>
                        </h:panelGroup>
                        <h:panelGroup id="discardH">
                            <h:outputScript rendered="#{facesContext.postback and facesContext.validationFailed}">                            
                                alertify.custom = alertify.extend("custom");
                                alertify.custom("#{aees_msg['descardoperation']}");
                            </h:outputScript>
                        </h:panelGroup>
                    
                
        <!-- FIN HORAS DE INGENIERIA -->
    </h:body>    
</html>