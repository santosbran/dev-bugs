<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <f:view locale="#{swtLanguage.locale}">
        <h:head>
            <title></title> <!-- Nombre de la página - aplicación -->
            <style>
                
                #mainNew {
                    height: 100%;
                    margin: 0px;
                    padding: 0px;
                    display: -webkit-flex;
                    display: flex;
                    -webkit-flex-flow: row;
                    flex-flow: row;
                }
                #mainNew > article {
                    margin: 4px;
                    padding: 5px;
                    background: transparent;
                    -webkit-flex: 3 1 49%;
                    -webkit-order: 3;
                    order: 3;
                    height: 100%;
                    width: 100%;
                    margin-left: 1%;
                    margin-right: 2%;
                }
                #mainNew > .handle1 {
                    transform: rotate(0deg);
                    float: left;
                    position: absolute;
                    top: 90px;
                    left: 9px;
                    padding: 0px 0px 0px 0px;
                    -webkit-flex: 0%;
                    flex: 0%;
                    -webkit-order: 5;
                    order: 5;
                    width: 20px;
                    height: 20px;
                }
                #mainNew > nav {
                    margin: 4px;
                    padding: 5px;
                    height: 100%;
                    background: transparent;
                    -webkit-order: 2;
                    order: 2;
                    width: 24%;
                    flex: inherit;
                    overflow-y: hidden !important;
                }
                .estiloNewTracking {
                    top: 190px !important;
                    width: 100% !important;
                    height: 30px !important;
                    margin-bottom: 0px !important;
                    border-bottom: 3px solid #bf1e2d !important;
                    border-left: 3px solid #bf1e2d !important;
                    color: white !important;
                    background-color: gray !important;
                    padding: 6px 10px 0px 10px !important;
                    display: block !important;
                    margin-right: 1% !important;
                    text-transform: uppercase !important;
                    font-size: 12px !important;
                    color: white !important;
                } 
                .bs-callout {
                    padding: 10px 10px;
                    margin: 4px 0;
                    border: 1px solid #eee;
                    border-left-width: 5px;
                    border-radius: 3px;
                    font-family: 'Helvetica Neue', Helvetica,Arial,sans-serif !important;
                    width: 100%;
                    box-shadow: 1px 2px 5px grey;
                    -webkit-box-shadow: 1px 2px 5px grey;
                }
                .bs-callout-complete {
                    border-left-color: #92d14f;
                }
                .select-activity {
                    cursor: pointer;
                    margin-bottom: 0px;
                }
                .bs-callout h5 {
                    margin-top: 0;
                    margin-bottom: 4px;
                    color: #0070c8;
                    font-family: 'Helvetica Neue', Helvetica,Arial,sans-serif !important;
                    text-align: justify;
                }
                .fondoMenuAEIS2{
                    background: white;
                 }
				 
                .fondoMenuAEIS2:hover,
		.fondoMenuAEIS2:active, 
		.fondoMenuAEIS2:focus{
                    background: #ADAAA9; /*#337ab7;*/
                 } 
            </style>
            <style>
                ::-webkit-scrollbar-thumb {height: 10px !important; background-color: #a8a8a8;border-radius: 3px;}
                
                    
                table.dataTable.nowrap td {
                    white-space: normal !important;
                    word-break: break-word !important;
                }
                .file-caption-main{
                    left: 12.6%;
                } 
                .barraXLista{
                    overflow-y: scroll !important; 
                }
                header, footer {
                    display: block;
                    /* margin: 4px; */
                    /* padding: 5px; */
                    height: 2% !important;
                    background: transparent;
                    margin-top: 0.3%;
                }

                .dataTables_wrapper {

                    background: rgba(205,204,204,0.65) !important; 

                }                       
                
                
                table.dataTable.dtr-inline.collapsed>tbody>tr>selected:hover{
                    background-color: #003f72;
                    color: white !important;
                    cursor: pointer !important;
                }
                
                table.dataTable tbody tr.selected td {              
                    color: white !important;
                }
                
                /* redimension de todos lo paneles al cambio minimo dado*/
       
            table.dataTable tbody tr{
                    vertical-align: middle;
                    cursor: pointer;
                }
            /* modificacion para ajuste4 de los campos de los forumulario centrales]*/
                    @media all and (max-width: 768px) {

                    .tableeo.pararesponse tr{
                        display: table;
                        width: 100%;
                    }
                    
                    .tableeo.pararesponse td.ten-prc{
                        display: table-row;
                    }
                    table.dataTable tbody tr.selected {
                    background-color: #003f72;
                    color: white !important;
                    cursor: pointer;
                }
                    table.dataTable tbody tr.selected label {              
                    color: white !important;
                }
                    .tableeo.pararesponse tr td{
                        width: 30%;
                        text-align: left;
                    }
                    
                    }   
                       .pararesponse{
                     font-weight: bold;
                 }
                .margenCompanyChequeo{
                    margin-left: 0%;
                }
                @media screen and (min-height:400px) and (max-height:449px){
                    .fondoSection2{
                        height: 50%;
                    }
                }
                @media screen and (min-height:450px) and (max-height:499px){
                    .fondoSection2{
                        height: 55%;
                    }
                }
                @media screen and (min-height:500px) and (max-height:514px){
                    .fondoSection2{
                        height: 60%;
                    }
                }
                @media screen and (min-height:515px) and (max-height:549px){
                    .fondoSection2{
                        height: 65%;
                    }
                }
                @media screen and (min-height:550px) and (max-height:574px){
                    .fondoSection2{
                        height: 70%;
                    }
                }
                @media screen and (min-height:575px) and (max-height:599px){
                    .fondoSection2{
                        height: 75%;
                    }
                }
                @media screen and (min-height:600px) and (max-height:700px){
                    .fondoSection2{
                        height: 85%;
                    }
                }
                
                @media (max-height: 650px) and (min-width: 795px){
                    .altoContenedorPrincipalChequeos {
                        height: 90% !important;
                    }
                }
                @media (max-height: 700px) and (min-width: 895px){
                    .altoContenedorPrincipalChequeos {
                        height: 95% !important;
                    }
                }
                .handle1Eng2 {
                    position: fixed!important;                    
                }
                @media (max-width: 895px) and (min-width: 816px){
                    #mainNew{
                        margin-top: 10%;
                    }
                    #formDashBordTracking > .btn {
                        top: -23px !important;
                    }
                }
                @media (max-width: 815px) and (min-width: 791px){
                    #mainNew{
                        margin-top: 12%;
                    }
                    #formDashBordTracking > .btn {
                        top: -8px !important;
                    }
                }
                @media (max-width: 790px) and (min-width: 650px){
                    #mainNew{
                        margin-top: 15%;
                    }
                    #formDashBordTracking > .btn {
                        top: 15px !important;
                    }
                }
                @media (max-width: 649px) and (min-width: 500px){
                    #mainNew{
                        margin-top: 20%;
                    }
                    #formDashBordTracking > .btn {
                        top: 15px !important;
                    }
                }
                .trackingECRNew{
                    overflow: scroll !important; 
                    -webkit-overflow-scrolling: touch !important; 
                    background: white; 
                    height: 95.4% !important;
                }
                .divNewTrackigECR{
                    display: inherit; 
                    height: 100%;
                }
                .navNewListTrackingECR{
                    height: 100%; 
                    overflow: hidden !important;
                    display:block; 
                    background: white; 
                    -webkit-overflow-scrolling: touch !important;
                }
                
                @media (min-width: 1281px) and (max-width: 1745px){
                    .divNewTrackigECR{
                        height: 92% !important;
                    }
                    .navNewListTrackingECR{
                        height: 88%; 
                    }
                }
                @media (min-width: 1098px) and (max-width: 1280px){
                    .divNewTrackigECR{
                        height: 88% !important;
                    }
                    .navNewListTrackingECR{
                        height: 84%; 
                    }
                }
                @media (min-width: 0px) and (max-width: 1097px){
                    .divNewTrackigECR{
                        height: 84% !important;
                    }
                    .navNewListTrackingECR{
                        height: 80%; 
                    }
                }
          </style>   
            
            <script>
               function onActivarTra(var1){
                        $("#formActivarTracking\\:idReqResponses").val(var1);
                        $("#formActivarTracking\\:idReqResponseButton").trigger("click");
                    }  
               function backTabTrackingNew(var1){
                    $('#tabTackingECRNew').hide(); 
                    if (var1 == true) {
                        $('#docea').show();
                    }
                    else{
                        $('#engineer').show();
                        $('#main').show();    
                        $('#supervisor').show();
                    }
                }
                function dragAddParamerTra() {
                    $("#restaurarPanelTracking").show();                    
                    $("#das12").hide();                   
                     
                }
                function dragEndParameterTra() {
                    $("#restaurarPanelTracking").hide();
                    $("#das12").show();
                    
                    
                }
            </script>
        </h:head>
        <h:body>
            
            <h:form id="formActivarTracking">
                <h:inputText value="#{AdjuntosBean.idReqResponse}" id="idReqResponses" style="display: none;">
                    <f:ajax execute="@this" event="change" render="@this refremeta"/>
                </h:inputText>
                <h:commandButton id="idReqResponseButton" action="#{RequestTracking.findMailSend()}" style="display: none;">
                    <f:ajax execute="@form" render="@form inputFormtra resultadosTracking refremeta panalTrakingframe"/>
                </h:commandButton>
            </h:form>
            <h:form id="formDashBordTracking"> 
             <h:commandButton id="icoBack3" class="btn btn-signin butomclassECR imageRet" title="Back" action="#{RequestTracking.limpiar()}" style="position: fixed;top: 15px;height: 38px;">
                    <f:ajax execute="@this" render="@this fmTrackingTabNw sliTracking refremeta backNewTrackingECR"/>
             </h:commandButton> 
        </h:form>
            <div id='mainNew' style="display: flex;" >   
                <!-- 14/05/2021: DIV lado izquierdo pantalla tracking -->
                <nav id="das12" >
                    <div id="close-bt2" class="estiloNewTracking">LIST<div class="image" id="ocultarPanelTracking" onclick="dragAddParamerTra();"><a href="#collapse2" class="nav-toggle"><i  class="glyphicon glyphicon-chevron-up colorGlyphicon"/></a></div></div>
                    <div id="collapse2" class="bloque navNewListTrackingECR" style="">
                        <h:panelGroup layout="block" id="listActitives" style="height: 100%">
                            <section class="ac-container fondoSection2 barraXLista" >                             
                                <h:panelGroup id="taskeng">
                                    <h:form id="resultadosTracking">
                                        <h:inputText value="#{contCheckBean.itemId}" style="display: none;" id="id"><f:ajax event="change" render="@this refremeta" /></h:inputText>                                          
                                        <h:panelGroup id="cosa">
                                                <ui:repeat value="#{RequestTracking.listResponsesNameVw}" var="s" id="ECRRepeat"> 
                                                    <h:panelGrid class="select-activity" style="width: 100%" >
                                                        <h:column>
                                                        <a>
                                                            <!-- 14/05/2021: DIV lado izquierdo pantalla tracking -->
                                                            <div id="acorTracking-#{s.resId}" class="bs-callout fondoMenuAEIS2" style="border-left-color: #{s.resCheck eq 'YES' ? '#92d14f;':'RED;'}" onclick="onActivarTra(#{s.resId})">
                                                                <div>
                                                                    <p>
                                                                        <h5>
                                                                            <div style="align:right;margin-top: 10px;margin-bottom: 10px;">
                                                                                <h:outputLabel value="#{gen_msg['IdECO']}" />
                                                                                <h:outputText id="idE" value="#{s.resCorrECR}"/>
                                                                            </div>
                                                                        </h5>
                                                                    </p>
                                                                </div>
                                                                
                                                                <div><p><h5>#{s.fullUserName}</h5></p></div>
                                                                <div><span class="glyphicon glyphicon-paperclip" style="margin: -6.5% 0% 0% 0%; float: right;; color: black; display: #{s.tieneArchivos eq 'Y' ? ' inline-block;':'none;' }"/></div>
                                                                <div><p style="color: black;"><strong>#{gen_msg['to']}: </strong>#{s.resEmailsTo}</p></div>
                                                                <div><p style="color: black;"><strong>#{gen_msg['date']}: </strong><h:outputText value="#{s.resDateMsg}">  
                                                                 <f:convertDateTime pattern="MM/dd/yyyy hh:mm a" timeZone="GMT-6" />  
                                                                </h:outputText></p></div>
                                                                <div><p style="color: black;"><strong>#{gen_msg['subject']}: </strong>#{s.resSubject}</p></div>
                                                                <div><p style="color: black;"><strong>#{gen_msg['msj']}: </strong>#{s.resBody}</p></div>                                                                
                                                            </div>
                                                        </a>
                                                            
                                                        </h:column>    
                                                    </h:panelGrid>                                                      
                                                </ui:repeat>    
                                        </h:panelGroup>
                                    </h:form>
                                </h:panelGroup>
                            </section>
                        </h:panelGroup>
                    </div>
                </nav>
                <article>
                   <div id="divNewTrackig"  class="scroll panelECR divNewTrackigECR">
                        <div id="close-bt2" class="estiloNewTracking"> 
                            <div id="restaurarPanelTracking" onclick="dragEndParameterTra();" style="margin: 0% 0% 0% 0%; display: none;">
                                <a class="handle1Eng2">
                                    <span class="glyphicon glyphicon-chevron-right colorGlyphicon" aria-hidden="true"/>
                                    <label class="slide-label1"/>
                                </a>
                            </div>
                            <label style="margin-left: 2%">#{gen_msg['tracking']}</label><div class="image">
                                <a href="#collapse2" class="nav-toggle" >
                                    <h:graphicImage library="styleAE" id="tog2" class="closepanel" name="img/menu/Maximize-Minimize-01.png" style="display: none;" />
                                </a>
                            </div>
                        </div>
                       <h:panelGroup id="panalTrakingframe">
                           <iframe title="" name="Trakingframe" id="Trakingframe" class="iframe-wh trackingECRNew" 
                                   src="/EngineeringManage/pages/ECR/engRequestTracking.xhtml" />                           
                       </h:panelGroup>
                 </div>
                </article>                
            </div> 
            <h:panelGroup id="backNewTrackingECR">
                    <h:outputScript rendered="#{facesContext.postback and not facesContext.validationFailed}">
                        backTabTrackingNew(#{AdjuntosBean.esEA});
                    </h:outputScript>
                </h:panelGroup>
        </h:body>
    </f:view>
</html>
