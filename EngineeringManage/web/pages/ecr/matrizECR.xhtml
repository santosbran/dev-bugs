<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
    <f:view  rendered="#{tabECREaEoBean.homeManager()}" locale="#{swtLanguage.locale}">
        <h:head>
        
            <title></title> <!-- Nombre de la pÃ¡gina - aplicaciÃ³n -->
            <h:outputScript library="styleAE" name="js/pdf.js"/>
                  <h:outputStylesheet library="styleAE" name="css/styleAEIS.css"/>    
                   <h:outputStylesheet library="styleAE" name="css/estilos.css"/>   
        </h:head>
        <h:body >
            <h:panelGroup id="validate">
                <script type="text/javascript" >
                    
                $(function (){
                var sel =document.getElementById("mtrz:idxCr").value;
                
                if(sel == 1){
                $("#engHours").show();
                $("#ECRRela").hide();
                $("#chekEmail").hide();
                $("#repECR1").hide();
                }
                else if(sel == 2){
                $("#engHours").hide();
                $("#ECRRela").show();
                $("#chekEmail").hide();
                $("#repECR1").hide();
                } else if(sel == 3){
                $("#engHours").hide();
                $("#ECRRela").hide();
                $("#chekEmail").show();
                $("#repECR1").hide();
                }               
                });
                
                 
                 </script>
                    
                </h:panelGroup>
            <h:form id="mtrz">               
                <h:inputHidden id="idxCr" value="#{reportesSeguiCheqBean.idx}"/>
                <script type="text/javascript">
                    function generateReport() {
                       var win = window.open("/EngineeringManage/pages/reportes/repNavigation.xhtml","_blank");
                    }
                function repECR1(){
                    $('#rpts\\:repECR1').trigger("click");
                }
                function repH1(){
                    $('#rpts\\:repH1').trigger("click");
                }
                function viewEmail1(){
                    $('#rpts\\:viewEmail1').trigger("click");
                }
                function ECRI1(){
                    $('#rpts\\:ECRI1').trigger("click");
                }
                function ECRR1(){
                    $('#rpts\\:ECRR1').trigger("click");
                }
               
                $(document).ready(function () {
                        crearModal('#modReporteECRC', '50%');
                        crearModal('#pnlRelated', '50%');
                                                
                        $( "#modReporteECRC" ).dialog( "option", "title", "#{gen_msg['repECR']}" );
                        $( "#pnlRelated" ).dialog( "option", "title", "#{gen_msg['repECRre']}" );
                });
               
                </script>

            </h:form>
               
                
            <h:panelGroup>                        

                <h:form id="rpts" class="estiloFormuReportChequeo">

                    <h:panelGrid columns="1" class="anchoPanelReportChequeo cien-prc" columnClasses="twenty-prc, seventyfive-prc" >
                        <section class="ac-container" >
                            <div id="acor1101" >
                                <input id="ac-rep11" class="input" name="accordion-1" type="radio" onclick="repECR1();"/>
                                <label class="label" for="ac-rep11">#{gen_msg['repECR']}</label>
                            </div>
                            <div id="acor201" >
                                <input id="ac-rep21" class="input" name="accordion-1" type="radio" onclick="repH1();"/>                                        
                                <label class="label" for="ac-rep21">#{gen_msg['repECRHist']}</label>
                            </div>
                            <div id="acor501" >
                                <input id="ac-rep51" class="input" name="accordion-1" type="radio" onclick="ECRR1();"/>                                        
                                <label class="label" for="ac-rep51">#{gen_msg['repECRre']}</label>
                            </div>
                            <div id="acor601" >
                                <input id="ac-rep61" class="input" name="accordion-1" type="radio" onclick="ECRI1();"/>                                        
                                <label class="label" for="ac-rep61">#{gen_msg['repintern']}</label>
                            </div>
                        </section>
                    </h:panelGrid>
                    <h:commandButton id="repECR1" class="btn btn-signin" value="#{gen_msg['repESR']}" style="display: none;" 
                                     action="#{tabECREaEoBean.llenarECRs(contCheckBean.elemento.contCheckId)}">
                        <f:ajax execute="@this" render="mtrz executeRpt refremeta" />
                    </h:commandButton>
                    <h:commandButton id="repH1" class="btn btn-signin" value="#{gen_msg['repESRHist']}" style="display: none;"
                                      action="#{tabECREaEoBean.llenarHistorico(contCheckBean.elemento.contCheckId)}">
                        <f:ajax execute="@this"  render="mtrz executeRpt refremeta" />
                    </h:commandButton>

                    <h:commandButton id="viewEmail1" class="btn btn-signin" value="#{gen_msg['viewEmail']}" style="display: none;">
                        <f:ajax execute="@form" listener="#{tabECREaEoBean.viewEmail(contCheckBean.elemento.contCheckId)}" render="matrona mtrz resultForm660 scrip refremeta" />
                    </h:commandButton>
                    <h:commandButton  id="ECRI1" class="btn btn-signin" value="#{gen_msg['repintern']}" style="display: none;" 
                                       action="#{tabECREaEoBean.llenarCI(contCheckBean.elemento.contCheckId)}">
                        <f:ajax execute="@this" render="mtrz executeRpt refremeta" />
                    </h:commandButton>
                    <h:commandButton id="ECRR1" class="btn btn-signin" value="#{gen_msg['repESRre']}" style="display: none;"
                                     action="#{tabECREaEoBean.Engrep(contCheckBean.elemento.contCheckId)}">
                    </h:commandButton>

                </h:form>
                
            </h:panelGroup>
            
            <h:panelGroup id="pnlRelated" style="display:none;" class="modalhe" pt:title="#{aees_msg['engDisposition']}">

                <div id="insRelated" class="styleacordeon scroll frameRepoECRelacionado" >
                    <!--<ui:insert name="newContent">
                        <ui:include src="/pages/reportes/ReporteEsrRelacionados.xhtml"/>
                    </ui:insert>-->
                </div>

                <h:form id="modRelatedFormEcr" class="botonModalRepoECRelacionado">

                    <div class="divBotonesmodalpdfECRelacionado">
                        <div class="col-md-4 col-sm-4 col-xs-4 col-lg-4">
                            <h:commandButton class="btn btn-signin" value ="#{gen_msg['discard']}" onclick="$('#pnlRelated').dialog('close');" >
                                <f:ajax execute="@this" render="@form refremeta" />
                            </h:commandButton>
                        </div>                       
                    </div>
                </h:form>
            </h:panelGroup>
            
            <h:panelGroup id="executeRpt">
                <h:outputScript rendered="#{facesContext.postback and not facesContext.validationFailed}">
                    generateReport();
                </h:outputScript>
            </h:panelGroup>
            
        </h:body>
    </f:view>
</html>
