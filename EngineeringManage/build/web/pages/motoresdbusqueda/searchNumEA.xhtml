<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
       xmlns:p="http://primefaces.org/ui"
      xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
    <f:view locale="#{swtLanguage.locale}">
    <h:head>
        <title>TODO supply a title</title>        
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        
            <h:outputStylesheet library="styleAE" name="css/dataTables.min.css"/>
            <h:outputStylesheet library="styleAE" name="css/dataTables.css"/>
            <h:outputStylesheet library="styleAE" name="css/bootstrap.css"/>
            <h:outputStylesheet library="styleAE" name="css/sign-styles.css"/>
            <h:outputStylesheet library="styleAE" name="css/main-styles.css"/>
            <link rel="stylesheet" href="../css/tailwind.min.css"/>
            <link rel="stylesheet" href="../css/tailwind.css"/>
            <script>
                function susesRenderSearch(){
                    window.parent.document.getElementById("modRenderFormSearch:btnRenderFormSearch").click(); 
                }
                function discardRenderSearchEA(){
                    window.parent.document.getElementById("modRenderFormSearch:btnDiscardEA").click(); 
                }
                function cargarEventsFormSearchEA(data) {
                    var spinnerevents = window.parent.document.getElementById("spinnerMotor");
                    var divsDate = window.parent.document.getElementById("datatableEA");
                    var statuseve = data.status;
                    if (statuseve === "begin" ) { 
                            $(divsDate).hide();                            
                            spinnerevents.style.display = "block";
                    } else { 
                            spinnerevents.style.display = "none";
                            if(statuseve === "success"){
                               $(divsDate).show(); 
                            }		
                    }
                }
            </script>            
    </h:head>
        <h:body>
             <div class="styleacordeon">
                <h:form id="formSerchEA" class="dimensionesFormulariosSearch">
                    <script type="text/javascript">
                        var patron = /[\^$.*+?=!:|¨%#"%\\/()\[\]{}]/;
                    </script>
                <h:panelGrid  class="anchoPanelFormulario mx-auto" columns="2" columnClasses="forty-prc right-align, sixty-prc left-align">
                    <h:column>
                        <h:outputLabel value="#{aees_msg['numEA']}" for="numEA"/>
                    </h:column>
                    
                    <h:column>
                        <p:autoComplete id="numEA" value="#{motorBusquedaBean.numEASearch}" completeMethod="#{motorBusquedaBean.searchNumEA}" />       
                    </h:column>
                    
                    <h:column>
                        <h:outputLabel value="#{aees_msg['numESR']}" for="numESR"/>
                    </h:column>
                    
                    <h:column>
                        <p:autoComplete id="numESR" value="#{motorBusquedaBean.numESRSearch}" completeMethod="#{motorBusquedaBean.searchNumESR}" var="item" 
                                        itemLabel="#{motorBusquedaBean.esString ? item[1]:item}" itemValue="#{item[0]}"/>      
                    </h:column>
                                                                                                                                                  
                    <h:column>
                        <h:outputLabel value="#{aees_msg['colAirp']}" for="colAvion" />
                    </h:column>
                    
                    <h:column>
                        <p:autoComplete id="colAvion" value="#{motorBusquedaBean.planeTailEASearch}" completeMethod="#{motorBusquedaBean.searchPlaneTailEA}" />        
                    </h:column>                            
                
                    <h:column>
                        <h:outputLabel value="#{gen_msg['year']}" for="year"/>
                    </h:column>
                    
                    <h:column>
                        <p:autoComplete id="year" value="#{motorBusquedaBean.yearSearch}" completeMethod="#{motorBusquedaBean.searchYear}" />
                    </h:column> 
                                                
                    <h:column>
                        <h:outputLabel value="#{gen_msg['ATA']}" for="ATA"/>
                    </h:column>
                    
                    <h:column>
                        <p:autoComplete id="ATA" value="#{motorBusquedaBean.varATAsEASearch}" completeMethod="#{motorBusquedaBean.searchATAsEA}" />              
                    </h:column>                            
                                                
                    <h:column>
                        <h:outputLabel value="#{aees_msg['modelAirp']}" for="modelAirp"/>
                    </h:column>
                    
                    <h:column>
                        <p:autoComplete id="modelAirp" value="#{motorBusquedaBean.airplaneModelEASearch}" completeMethod="#{motorBusquedaBean.searchAirplaneModelEA}" />         
                    </h:column>                             
                                                
                    <h:column>
                        <h:outputLabel value="#{aees_msg['componentPN']}" for="componentPN" />
                    </h:column>
                    
                    <h:column>
                        <p:autoComplete id="componentPN" value="#{motorBusquedaBean.varpnComponentSearch}" completeMethod="#{motorBusquedaBean.searchPNComponent}" />   
                    </h:column>
                                        
                    
                    <h:column>
                        <h:outputLabel value="#{aees_msg['componentSN']}" for="componentSN" />
                    </h:column>
                    
                    <h:column>
                        <p:autoComplete id="componentSN" value="#{motorBusquedaBean.varsnComponentSearch}" completeMethod="#{motorBusquedaBean.searchSNComponent}" />       
                    </h:column>
                     
                    <h:column>
                        <h:outputLabel value="#{gen_msg['title']}" for="Titulo"/>
                    </h:column>
                    
                    <h:column>
                        <p:autoComplete id="Titulo" value="#{motorBusquedaBean.titleSearch}" completeMethod="#{motorBusquedaBean.searchTitle}" /> 
                    </h:column> 
                                                
                </h:panelGrid>
                <div class="alinearIzqmsgErrorFormu">
                    <h:outputText id="camposvacios" value="•  #{gen_msg['nodatasearch']}" class="msgError"  style="display: table-row;"
                            rendered="#{facesContext.postback and  facesContext.validationFailed and motorBusquedaBean.llenarcampos}"/>
                    <h:outputText id="datafound" value="•  #{gen_msg['nodatafoundsearch']}" class="msgError"  style="display: table-row;"
                            rendered="#{facesContext.postback and  facesContext.validationFailed and motorBusquedaBean.nohaydata}"/>
                    <h:messages class="msgError"/>
                </div>                            
                                            
                 <div class="flex flex-wrap justify-center py-3 px-10">
                    <h:commandButton class="w-40 bg-aes-blue text-white text-center py-2 m-1"
                       value ="#{gen_msg['search']}" action="#{motorBusquedaBean.buscar()}">
                            <f:ajax execute="@form" render="@this renderSearchEA"  />
                        </h:commandButton>
                    
                        <h:commandButton class="w-40 bg-aes-blue text-white text-center py-2 m-1" value ="#{gen_msg['discard']}" action="#{motorBusquedaBean.limpiarCamps()}" >
                            <f:ajax execute="@form" render="@form ondescarSearchEA"  />
                        </h:commandButton>
                    </div>
                
                  
            </h:form>
                 <h:panelGroup id="renderSearchEA">
                     <h:outputScript rendered="#{facesContext.postback and not facesContext.validationFailed }">
                         susesRenderSearch();
                     </h:outputScript>
                 </h:panelGroup> 
                 <h:panelGroup id="ondescarSearchEA">
                     <h:outputScript rendered="#{facesContext.postback and not facesContext.validationFailed}">                    
                         discardRenderSearchEA();
                     </h:outputScript>
                 </h:panelGroup>
          </div>                      
            <script>
                function redirect() {
                    setTimeout(function(){
                        var p = window.parent.document.getElementsByTagName('html')[0];
                        var a = window.parent.document.getElementById('content-search');
                        p.scrollTop = a.scrollHeight+600;
                    }, 200);
                }
            </script>

        </h:body>
    </f:view>
</html>
