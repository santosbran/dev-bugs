<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
       xmlns:p="http://primefaces.org/ui"
      xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
    <f:view locale="#{swtLanguage.locale}">
    <h:head>
        <title>TODO supply a title</title>        
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        
            <h:outputStylesheet library="styleAE" name="css/dataTables.min.css"/>
            <h:outputStylesheet library="styleAE" name="css/dataTables.css"/>
            <h:outputStylesheet library="styleAE" name="css/bootstrap.css"/>
            <h:outputStylesheet library="styleAE" name="css/sign-styles.css"/>
            <h:outputStylesheet library="styleAE" name="css/main-styles.css"/>
            <link rel="stylesheet" href="../css/tailwind.min.css"/>
            <link rel="stylesheet" href="../css/tailwind.css"/>
            <script>
                function susesRenderSearchESR(){
                    window.parent.document.getElementById("modRenderFormSearch:btnRenderFormSearchESR").click(); 
                }
                function discardRenderSearchESR(){
                    window.parent.document.getElementById("modRenderFormSearch:btnDiscardEA").click(); 
                }
                function cargarEventsFormSearch(data) {
                    var spinnerevents = window.parent.document.getElementById("spinnerMotor");
                    var divsDate = window.parent.document.getElementById("datatableESR");
                    var statuseve = data.status;
                    if (statuseve === "begin" ) { 
                            $(divsDate).hide();                            
                            spinnerevents.style.display = "block";
                    } else { 
                            spinnerevents.style.display = "none";
                            if(statuseve === "success"){
                               $(divsDate).show(); 
                            }		
                    }
                }
                
            </script>
    </h:head>
        <h:body>
        <div class="styleacordeon">
                                        <h:form id="formESR" class="dimensionesFormulariosSearch">
                                            <h:panelGroup id="script">
                                                <script>
                                                    var patron = /[\^$.*+?=!:|¨%#"%\\/()\[\]{}]/;
                                                </script>
                                            </h:panelGroup>
                                            <h:panelGrid class="anchoPanelFormulario mx-auto" columns="2" columnClasses="forty-prc right-align, sixty-prc left-align">
                                                
                                                <h:column>
                                                    <h:outputLabel value="#{aees_msg['colAirp']}" for="colAvion" />                                                   
                                                </h:column>
                                                
                                                <h:column>
                                                     <p:autoComplete id="colAvion" value="#{motorBusquedaEsrBean.colAvionSearch}" completeMethod="#{motorBusquedaEsrBean.searchPlaneTail}" />                                                                                                      
                                                </h:column>
                                               
                                                <h:column>
                                                    <h:outputLabel value="#{aees_msg['numESR']}" for="numESR"/>                                                    
                                                </h:column>
                                                
                                                <h:column>
                                                    <p:autoComplete id="numESR" value="#{motorBusquedaEsrBean.numESRSearch}" completeMethod="#{motorBusquedaEsrBean.searchNrESR}"  var="item"
                                                                    itemLabel="#{motorBusquedaEsrBean.esStringESR ? item[1]:item}" itemValue="#{item[0]}"/>                                                                                                         
                                                </h:column>
                                                
                                                <h:column>
                                                    <h:outputLabel value="#{gen_msg['ATA']}" for="ata"/>                                                    
                                                </h:column>
                                                
                                                <h:column>
                                                    <p:autoComplete id="ata" value="#{motorBusquedaEsrBean.ataSearch}" completeMethod="#{motorBusquedaEsrBean.searchATAs}" />                                                    
                                                </h:column>

                                                <h:column>
                                                     <h:outputLabel value="#{aees_msg['modelAirp']}" for="modelAirp"/>
                                                </h:column>
                                                
                                                <h:column>
                                                    <p:autoComplete id="modelAirp" value="#{motorBusquedaEsrBean.modelAirpSearch}" completeMethod="#{motorBusquedaEsrBean.searchAirplaneModel}" />                                                    
                                                </h:column>
                                                
                                                <h:column>
                                                    <h:outputLabel value="#{aees_msg['workOrder']}" for="workOrder" />
                                                </h:column>
                                                
                                                <h:column>
                                                    <p:autoComplete id="workOrder" value="#{motorBusquedaEsrBean.workOrderSearch}" completeMethod="#{motorBusquedaEsrBean.searchWorkOrder}" 
                                                                    var="itemw" itemLabel="#{motorBusquedaEsrBean.esWorkOrder ? itemw[1]:itemw}" itemValue="#{itemw[0]}"/>                                                   
                                                </h:column>
                                                
                                                <h:column>
                                                    <h:outputLabel value="#{aees_msg['mb_abclient']}" for="customer" />
                                                </h:column>                                                                                               
                                                
                                                <h:column>
                                                    <p:autoComplete id="customer" value="#{motorBusquedaEsrBean.customerSearch}" completeMethod="#{motorBusquedaEsrBean.searchCustomer}" />
                                                </h:column>
                                                
                                                <h:column>
                                                    <h:outputLabel value="#{aees_msg['engAttendant']}" for="solicited" />
                                                </h:column>
                                                
                                                <h:column>
                                                    <p:autoComplete id="solicited" value="#{motorBusquedaEsrBean.solicitedSearch}" completeMethod="#{motorBusquedaEsrBean.searchEngineerAttendant}" /> 
                                                </h:column>
                                                
                                                <h:column>
                                                    <h:outputLabel value="#{aees_msg['partNumber']} " for="partSearchNumberM" />
                                                </h:column>
                                                
                                                <h:column>
                                                    <p:autoComplete id="partSearchNumberM" value="#{motorBusquedaEsrBean.partNumberSearch}" completeMethod="#{motorBusquedaEsrBean.searchPartNumber}" />      
                                                </h:column>
                                                <h:column>
                                                    <h:outputLabel value="#{gen_msg['reqAffectedPart']}" for="reqSearchAffectedPart" />
                                                </h:column>
                                                
                                                <h:column>
                                                    <p:autoComplete id="reqSearchAffectedPart" value="#{motorBusquedaEsrBean.reqSearchAffectedPartSearch}" completeMethod="#{motorBusquedaEsrBean.searchAffectedPart}" />   
                                                </h:column>

                                            </h:panelGrid>
                                            <div class="alinearIzqmsgErrorFormu">  
                                                <h:outputText id="camposvacios" value="•  #{gen_msg['nodatasearch']}" class="msgError"  style="display: table-row;"
                                                              rendered="#{facesContext.postback and  facesContext.validationFailed and motorBusquedaEsrBean.camposvacios}"/>
                                                <h:outputText id="datafound" value="•  #{gen_msg['nodatafoundsearch']}" class="msgError"  style="display: table-row;"
                                                              rendered="#{facesContext.postback and  facesContext.validationFailed and motorBusquedaEsrBean.nodatafound}"/>
                                                <h:messages class="msgError"/>
                                            </div>
                                            <div class="flex flex-wrap justify-center py-3 px-10">
                                                
                                                    <h:commandButton class="w-40 bg-aes-blue text-white text-center py-2 m-1" value ="#{gen_msg['search']}" action="#{motorBusquedaEsrBean.buscar()}">
                                                  <f:ajax execute="@form" render="@this renderSearchESR" onevent="cargarEventsFormSearch"/>
                                                    </h:commandButton>
                                                
                                                
                                                    <h:commandButton class="w-40 bg-aes-blue text-white text-center py-2 m-1" value ="#{gen_msg['discard']}" action="#{motorBusquedaEsrBean.limpiarCamps()}" >
                                                        <f:ajax execute="@form" render="ondescarSearchESR formESR refremeta" onevent="cargarEventsFormSearch"/>
                                                    </h:commandButton>
                                                
                                            </div> 
                                        </h:form>
                                <h:panelGroup id="renderSearchESR">
                                    <h:outputScript rendered="#{facesContext.postback and not facesContext.validationFailed }">
                                        susesRenderSearchESR();
                                    </h:outputScript>
                                </h:panelGroup> 
                                <h:panelGroup id="ondescarSearchESR">
                                    <h:outputScript rendered="#{facesContext.postback and not facesContext.validationFailed}">                    
                                        discardRenderSearchESR();
                                    </h:outputScript>
                                </h:panelGroup>
           
                </div>
            <script>
                function redirect() {
                    setTimeout(function(){
                        var p = window.parent.document.getElementsByTagName('html')[0];
                        var a = window.parent.document.getElementById('content-search');
                        p.scrollTop = a.scrollHeight+600;
                    }, 200);
                }
            </script>
        </h:body>
    </f:view>
</html>
