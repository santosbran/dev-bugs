<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:c="http://java.sun.com/jsp/jstl/core"
                xmlns:h="http://xmlns.jcp.org/jsf/html">
    <ul>
        <li>
            <c:if test="#{node.hasChildren}">

                <h:outputLink value="#{request.contextPath}#{node.link}" class="big" hreflang="#{node.link}"  target="container">
                    <div class="morph pic">
                        <h:graphicImage library="styleAE" name="img/main/menu-survey.png"/>
                    </div>
                    #{empty menu_msg[node.label.replaceAll("\\s+","")] ? node.label:menu_msg[node.label.replaceAll("\\s+","")]}
                </h:outputLink>
                <a href="javascript:;" data-toggle="collapse" data-target="\##{node.formatedId}" class="small">
                    <em class="fa fa-fw fa-caret-down">
                </a>

                <ul id="#{node.formatedId}" class="collapse">
                    <c:forEach items="#{node.childrenOpt}" var="childNode">
                        <ui:include src="node.xhtml">
                            <ui:param name="node" value="#{childNode}" />
                        </ui:include>
                    </c:forEach>
                </ul>
            </c:if>
            <c:if test="#{not node.hasChildren}">
                <h:outputLink value="#{request.contextPath}#{node.link}" class="full" hreflang="#{node.link}" target="container">

                    <graphicImage library="styleAE" name="img/main/menu-survey.png"/>

                    #{empty menu_msg[node.label.replaceAll("\\s+","")] ? node.label:menu_msg[node.label.replaceAll("\\s+","")]}
                </h:outputLink>
            </c:if>
        </li>
    </ul>

</ui:composition>
